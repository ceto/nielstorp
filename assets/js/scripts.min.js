!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(a){var b,c,d,e,f,g,h,i="Close",j="BeforeClose",k="AfterClose",l="BeforeAppend",m="MarkupParse",n="Open",o="Change",p="mfp",q="."+p,r="mfp-ready",s="mfp-removing",t="mfp-prevent-close",u=function(){},v=!!window.jQuery,w=a(window),x=function(a,c){b.ev.on(p+a+q,c)},y=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},z=function(c,d){b.ev.triggerHandler(p+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},A=function(c){return c===h&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),h=c),b.currTemplate.closeBtn},B=function(){a.magnificPopup.instance||(b=new u,b.init(),a.magnificPopup.instance=b)},C=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};u.prototype={constructor:u,init:function(){var c=navigator.appVersion;b.isIE7=-1!==c.indexOf("MSIE 7."),b.isIE8=-1!==c.indexOf("MSIE 8."),b.isLowIE=b.isIE7||b.isIE8,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=C(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),e=a(document),b.popupsCache={}},open:function(c){d||(d=a(document.body));var f;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var h,i=c.items;for(f=0;f<i.length;f++)if(h=i[f],h.parsed&&(h=h.el[0]),h===c.el[0]){b.index=f;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],g="",b.ev=c.mainEl&&c.mainEl.length?c.mainEl.eq(0):e,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=y("bg").on("click"+q,function(){b.close()}),b.wrap=y("wrap").attr("tabindex",-1).on("click"+q,function(a){b._checkIfClose(a.target)&&b.close()}),b.container=y("container",b.wrap)),b.contentContainer=y("content"),b.st.preloader&&(b.preloader=y("preloader",b.container,b.st.tLoading));var j=a.magnificPopup.modules;for(f=0;f<j.length;f++){var k=j[f];k=k.charAt(0).toUpperCase()+k.slice(1),b["init"+k].call(b)}z("BeforeOpen"),b.st.showCloseBtn&&(b.st.closeBtnInside?(x(m,function(a,b,c,d){c.close_replaceWith=A(d.type)}),g+=" mfp-close-btn-in"):b.wrap.append(A())),b.st.alignTop&&(g+=" mfp-align-top"),b.wrap.css(b.fixedContentPos?{overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}:{top:w.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:e.height(),position:"absolute"}),b.st.enableEscapeKey&&e.on("keyup"+q,function(a){27===a.keyCode&&b.close()}),w.on("resize"+q,function(){b.updateSize()}),b.st.closeOnContentClick||(g+=" mfp-auto-cursor"),g&&b.wrap.addClass(g);var l=b.wH=w.height(),o={};if(b.fixedContentPos&&b._hasScrollBar(l)){var p=b._getScrollbarSize();p&&(o.marginRight=p)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):o.overflow="hidden");var s=b.st.mainClass;return b.isIE7&&(s+=" mfp-ie7"),s&&b._addClassToMFP(s),b.updateItemHTML(),z("BuildControls"),a("html").css(o),b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||d),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(r),b._setFocus()):b.bgOverlay.addClass(r),e.on("focusin"+q,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(l),z(n),c},close:function(){b.isOpen&&(z(j),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(s),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){z(i);var c=s+" "+r+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var d={marginRight:""};b.isIE7?a("body, html").css("overflow",""):d.overflow="",a("html").css(d)}e.off("keyup"+q+" focusin"+q),b.ev.off(q),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,z(k)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||w.height();b.fixedContentPos||b.wrap.css("height",b.wH),z("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(z("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var e=b.st[d]?b.st[d].markup:!1;z("FirstMarkupParse",e),b.currTemplate[d]=e?a(e):!0}f&&f!==c.type&&b.container.removeClass("mfp-"+f+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,z(o,c),f=c.type,b.container.prepend(b.contentContainer),z("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(A()):b.content=a:b.content="",z(l),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d,e=b.items[c];if(e.tagName?e={el:a(e)}:(d=e.type,e={data:e,src:e.src}),e.el){for(var f=b.types,g=0;g<f.length;g++)if(e.el.hasClass("mfp-"+f[g])){d=f[g];break}e.src=e.el.attr("data-mfp-src"),e.src||(e.src=e.el.attr("href"))}return e.type=d||b.st.type||"inline",e.index=c,e.parsed=!0,b.items[c]=e,z("ElementParse",e),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||2!==c.which&&!c.ctrlKey&&!c.metaKey){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(w.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};z("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(t)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?e.height():document.body.scrollHeight)>(a||w.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),z(m,[b,c,d]),a.each(c,function(a,c){if(void 0===c||c===!1)return!0;if(e=a.split("_"),e.length>1){var d=b.find(q+"-"+e[0]);if(d.length>0){var f=e[1];"replaceWith"===f?d[0]!==c[0]&&d.replaceWith(c):"img"===f?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(e[1],c)}}else b.find(q+"-"+a).html(c)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:u.prototype,modules:[],open:function(b,c){return B(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},a.fn.magnificPopup=function(c){B();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=v?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),v?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var D,E,F,G="inline",H=function(){F&&(E.after(F.addClass(D)).detach(),F=null)};a.magnificPopup.registerModule(G,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(G),x(i+"."+G,function(){H()})},getInline:function(c,d){if(H(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(E||(D=e.hiddenClass,E=y(D),D="mfp-"+D),F=f.after(E).detach().removeClass(D)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var I,J="ajax",K=function(){I&&d.removeClass(I)},L=function(){K(),b.req&&b.req.abort()};a.magnificPopup.registerModule(J,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(J),I=b.st.ajax.cursor,x(i+"."+J,L),x("BeforeChange."+J,L)},getAjax:function(c){I&&d.addClass(I),b.updateStatus("loading");var e=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};z("ParseAjax",g),b.appendContent(a(g.data),J),c.finished=!0,K(),b._setFocus(),setTimeout(function(){b.wrap.addClass(r)},16),b.updateStatus("ready"),z("AjaxContentAdded")},error:function(){K(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(e),""}}});var M,N=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=b.st.image,c=".image";b.types.push("image"),x(n+c,function(){"image"===b.currItem.type&&a.cursor&&d.addClass(a.cursor)}),x(i+c,function(){a.cursor&&d.removeClass(a.cursor),w.off("resize"+q)}),x("Resize"+c,b.resizeImage),b.isLowIE&&x("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,M&&clearInterval(M),a.isCheckingImgSize=!1,z("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){M&&clearInterval(M),M=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(M),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,z("ImageLoadComplete")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=document.createElement("img");j.className="mfp-img",c.el&&c.el.find("img").length&&(j.alt=c.el.find("img").attr("alt")),c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone()),j=c.img[0],j.naturalWidth>0?c.hasSize=!0:j.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:N(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(M&&clearInterval(M),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var O,P=function(){return void 0===O&&(O=void 0!==document.createElement("p").style.MozTransform),O};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=".zoom";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,h=function(a){var b=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+c.duration/1e3+"s "+c.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css("visibility","visible")};x("BuildControls"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return void k();f=h(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,z("ZoomAnimationEnded")},16)},g)},16)}}),x(j+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=h(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css("visibility","hidden"),setTimeout(function(){f.css(b._getOffset())},16)}}),x(i+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(v?d.innerHeight():d[0].offsetHeight)-g-f};return P()?h["-moz-transform"]=h.transform="translate("+e.left+"px,"+e.top+"px)":(h.left=e.left,h.top=e.top),h}}});var Q="iframe",R="//about:blank",S=function(a){if(b.currTemplate[Q]){var c=b.currTemplate[Q].find("iframe");c.length&&(a||(c[0].src=R),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(Q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(Q),x("BeforeChange",function(a,b,c){b!==c&&(b===Q?S():c===Q&&S(!0))}),x(i+"."+Q,function(){S()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var T=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},U=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,d=".mfp-gallery",f=Boolean(a.fn.mfpFastClick);return b.direction=!0,c&&c.enabled?(g+=" mfp-gallery",x(n+d,function(){c.navigateByImgClick&&b.wrap.on("click"+d,".mfp-img",function(){return b.items.length>1?(b.next(),!1):void 0}),e.on("keydown"+d,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),x("UpdateStatus"+d,function(a,c){c.text&&(c.text=U(c.text,b.currItem.index,b.items.length))}),x(m+d,function(a,d,e,f){var g=b.items.length;e.counter=g>1?U(c.tCounter,f.index,g):""}),x("BuildControls"+d,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(t),g=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(t),h=f?"mfpFastClick":"click";e[h](function(){b.prev()}),g[h](function(){b.next()}),b.isIE7&&(y("b",e[0],!1,!0),y("a",e[0],!1,!0),y("b",g[0],!1,!0),y("a",g[0],!1,!0)),b.container.append(e.add(g))}}),x(o+d,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void x(i+d,function(){e.off(d),b.wrap.off("click"+d),b.arrowLeft&&f&&b.arrowLeft.add(b.arrowRight).destroyMfpFastClick(),b.arrowRight=b.arrowLeft=null})):!1},next:function(){b.direction=!0,b.index=T(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=T(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=T(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),z("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,z("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}}});var V="retina";a.magnificPopup.registerModule(V,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(x("ImageHasSize."+V,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),x("ElementParse."+V,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),function(){var b=1e3,c="ontouchstart"in window,d=function(){w.off("touchmove"+f+" touchend"+f)},e="mfpFastClick",f="."+e;a.fn.mfpFastClick=function(e){return a(this).each(function(){var g,h=a(this);if(c){var i,j,k,l,m,n;h.on("touchstart"+f,function(a){l=!1,n=1,m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0],j=m.clientX,k=m.clientY,w.on("touchmove"+f,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches,n=m.length,m=m[0],(Math.abs(m.clientX-j)>10||Math.abs(m.clientY-k)>10)&&(l=!0,d())}).on("touchend"+f,function(a){d(),l||n>1||(g=!0,a.preventDefault(),clearTimeout(i),i=setTimeout(function(){g=!1},b),e())})})}h.on("click"+f,function(){g||e()})})},a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+f+" click"+f),c&&w.off("touchmove"+f+" touchend"+f)}}(),B()}),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(window,function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return"[object Array]"===m.call(a)}function f(a){var b=[];if(e(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function g(a,b,c){if(!(this instanceof g))return new g(a,b);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=f(a),this.options=d({},this.options),"function"==typeof b?c=b:d(this.options,b),c&&this.on("always",c),this.getImages(),j&&(this.jqDeferred=new j.Deferred);var e=this;setTimeout(function(){e.check()})}function h(a){this.img=a}function i(a){this.src=a,n[a]=this}var j=a.jQuery,k=a.console,l=void 0!==k,m=Object.prototype.toString;g.prototype=new b,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);var d=c.nodeType;if(d&&(1===d||9===d||11===d))for(var e=c.querySelectorAll("img"),f=0,g=e.length;g>f;f++){var h=e[f];this.addImage(h)}}},g.prototype.addImage=function(a){var b=new h(a);this.images.push(b)},g.prototype.check=function(){function a(a,e){return b.options.debug&&l&&k.log("confirm",a,e),b.progress(a),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return void this.complete();for(var e=0;d>e;e++){var f=this.images[e];f.on("confirm",a),f.check()}},g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},j&&(j.fn.imagesLoaded=function(a,b){var c=new g(this,a,b);return c.jqDeferred.promise(j(this))}),h.prototype=new b,h.prototype.check=function(){var a=n[this.img.src]||new i(this.img.src);if(a.isConfirmed)return void this.confirm(a.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},h.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var n={};return i.prototype=new b,i.prototype.check=function(){if(!this.isChecked){var a=new Image;c.bind(a,"load",this),c.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},i.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},i.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},i.prototype.unbindProxyEvents=function(a){c.unbind(a.target,"load",this),c.unbind(a.target,"error",this)},g}),function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],c):c("object"==typeof exports?require("jquery"):a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(this),function(a){function b(a){"function"==typeof a&&(b.isReady?a():g.push(a))}function c(a){var c="readystatechange"===a.type&&"complete"!==f.readyState;b.isReady||c||d()}function d(){b.isReady=!0;for(var a=0,c=g.length;c>a;a++){var d=g[a];d()}}function e(e){return"complete"===f.readyState?d():(e.bind(f,"DOMContentLoaded",c),e.bind(f,"readystatechange",c),e.bind(a,"load",c)),b}var f=a.document,g=[];b.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],e):"object"==typeof exports?module.exports=e(require("eventie")):a.docReady=e(a.eventie)}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this
},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:e.EventEmitter=a}.call(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):"object"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){}function d(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function e(c){function e(){if(!m){m=!0;var d=a.getComputedStyle;if(j=function(){var a=d?function(a){return d(a,null)}:function(a){return a.currentStyle};return function(b){var c=a(b);return c||f("Style returned "+c+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),c}}(),k=c("boxSizing")){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[k]="border-box";var g=document.body||document.documentElement;g.appendChild(e);var h=j(e);l=200===b(h.width),g.removeChild(e)}}}function h(a){if(e(),"string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var c=j(a);if("none"===c.display)return d();var f={};f.width=a.offsetWidth,f.height=a.offsetHeight;for(var h=f.isBorderBox=!(!k||!c[k]||"border-box"!==c[k]),m=0,n=g.length;n>m;m++){var o=g[m],p=c[o];p=i(a,p);var q=parseFloat(p);f[o]=isNaN(q)?0:q}var r=f.paddingLeft+f.paddingRight,s=f.paddingTop+f.paddingBottom,t=f.marginLeft+f.marginRight,u=f.marginTop+f.marginBottom,v=f.borderLeftWidth+f.borderRightWidth,w=f.borderTopWidth+f.borderBottomWidth,x=h&&l,y=b(c.width);y!==!1&&(f.width=y+(x?0:r+v));var z=b(c.height);return z!==!1&&(f.height=z+(x?0:s+w)),f.innerWidth=f.width-(r+v),f.innerHeight=f.height-(s+w),f.outerWidth=f.width+t,f.outerHeight=f.height+u,f}}function i(b,c){if(a.getComputedStyle||-1===c.indexOf("%"))return c;var d=b.style,e=d.left,f=b.runtimeStyle,g=f&&f.left;return g&&(f.left=b.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,g&&(f.left=g),c}var j,k,l,m=!1;return h}var f="undefined"==typeof console?c:function(a){console.error(a)},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):a.getSize=e(a.getStyleProperty)}(window),function(a){function b(a,b){return a[g](b)}function c(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function d(a,b){c(a);for(var d=a.parentNode.querySelectorAll(b),e=0,f=d.length;f>e;e++)if(d[e]===a)return!0;return!1}function e(a,d){return c(a),b(a,d)}var f,g=function(){if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0,d=b.length;d>c;c++){var e=b[c],f=e+"MatchesSelector";if(a[f])return f}}();if(g){var h=document.createElement("div"),i=b(h,"div");f=i?b:e}else f=d;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return f}):"object"==typeof exports?module.exports=f:window.matchesSelector=f}(Element.prototype),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){for(var b in a)return!1;return b=null,!0}function d(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function e(a,e,f){function h(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var i=f("transition"),j=f("transform"),k=i&&j,l=!!f("perspective"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[i],n=["transform","transition","transitionDuration","transitionProperty"],o=function(){for(var a={},b=0,c=n.length;c>b;b++){var d=n[b],e=f(d);e&&e!==d&&(a[d]=e)}return a}();b(h.prototype,a.prototype),h.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},h.prototype.getSize=function(){this.size=e(this.element)},h.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=o[c]||c;b[d]=a[c]}},h.prototype.getPosition=function(){var a=g(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=parseInt(a[c?"left":"right"],10),f=parseInt(a[d?"top":"bottom"],10);e=isNaN(e)?0:e,f=isNaN(f)?0:f;var h=this.layout.size;e-=c?h.paddingLeft:h.paddingRight,f-=d?h.paddingTop:h.paddingBottom,this.position.x=e,this.position.y=f},h.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={};b.isOriginLeft?(c.left=this.position.x+a.paddingLeft+"px",c.right=""):(c.right=this.position.x+a.paddingRight+"px",c.left=""),b.isOriginTop?(c.top=this.position.y+a.paddingTop+"px",c.bottom=""):(c.bottom=this.position.y+a.paddingBottom+"px",c.top=""),this.css(c),this.emitEvent("layout",[this])};var p=l?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};h.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={},k=this.layout.options;h=k.isOriginLeft?h:-h,i=k.isOriginTop?i:-i,j.transform=p(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},h.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},h.prototype.moveTo=k?h.prototype._transitionTo:h.prototype.goTo,h.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},h.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},h.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var q=j&&d(j)+",opacity";h.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:q,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(m,this,!1))},h.prototype.transition=h.prototype[i?"_transition":"_nonTransition"],h.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},h.prototype.onotransitionend=function(a){this.ontransitionend(a)};var r={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};h.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,d=r[a.propertyName]||a.propertyName;if(delete b.ingProperties[d],c(b.ingProperties)&&this.disableTransition(),d in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[d]),d in b.onEnd){var e=b.onEnd[d];e.call(this),delete b.onEnd[d]}this.emitEvent("transitionEnd",[this])}},h.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(m,this,!1),this.isTransitioning=!1},h.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var s={transitionProperty:"",transitionDuration:""};return h.prototype.removeTransitionStyles=function(){this.css(s)},h.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},h.prototype.remove=function(){if(!i||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0}),this.hide()},h.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},h.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},h.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},h}var f=a.getComputedStyle,g=f?function(a){return f(a,null)}:function(a){return a.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(a.Outlayer={},a.Outlayer.Item=e(a.EventEmitter,a.getSize,a.getStyleProperty))}(window),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){return"[object Array]"===l.call(a)}function d(a){var b=[];if(c(a))b=a;else if(a&&"number"==typeof a.length)for(var d=0,e=a.length;e>d;d++)b.push(a[d]);else b.push(a);return b}function e(a,b){var c=n(b,a);-1!==c&&b.splice(c,1)}function f(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function g(c,g,l,n,o,p){function q(a,c){if("string"==typeof a&&(a=h.querySelector(a)),!a||!m(a))return void(i&&i.error("Bad "+this.constructor.namespace+" element: "+a));this.element=a,this.options=b({},this.constructor.defaults),this.option(c);var d=++r;this.element.outlayerGUID=d,s[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var r=0,s={};return q.namespace="outlayer",q.Item=p,q.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},b(q.prototype,l.prototype),q.prototype.option=function(a){b(this.options,a)},q.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),b(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},q.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},q.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},q.prototype._filterFindItemElements=function(a){a=d(a);for(var b=this.options.itemSelector,c=[],e=0,f=a.length;f>e;e++){var g=a[e];if(m(g))if(b){o(g,b)&&c.push(g);for(var h=g.querySelectorAll(b),i=0,j=h.length;j>i;i++)c.push(h[i])}else c.push(g)}return c},q.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},q.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},q.prototype._init=q.prototype.layout,q.prototype._resetLayout=function(){this.getSize()},q.prototype.getSize=function(){this.size=n(this.element)},q.prototype._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):m(d)&&(c=d),this[a]=c?n(c)[b]:d):this[a]=0},q.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},q.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},q.prototype._layoutItems=function(a,b){function c(){d.emitEvent("layoutComplete",[d,a])}var d=this;if(!a||!a.length)return void c();this._itemsOn(a,"layout",c);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f],i=this._getItemLayoutPosition(h);i.item=h,i.isInstant=b||h.isLayoutInstant,e.push(i)}this._processLayoutQueue(e)},q.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},q.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},q.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},q.prototype._postLayout=function(){this.resizeContainer()},q.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},q.prototype._getContainerSize=k,q.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},q.prototype._itemsOn=function(a,b,c){function d(){return e++,e===f&&c.call(g),!0}for(var e=0,f=a.length,g=this,h=0,i=a.length;i>h;h++){var j=a[h];j.on(b,d)}},q.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},q.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},q.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},q.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e(d,this.stamps),this.unignore(d)}},q.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=d(a)):void 0},q.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},q.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},q.prototype._manageStamp=k,q.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,d=n(a),e={left:b.left-c.left-d.marginLeft,top:b.top-c.top-d.marginTop,right:c.right-b.right-d.marginRight,bottom:c.bottom-b.bottom-d.marginBottom};return e},q.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},q.prototype.bindResize=function(){this.isResizeBound||(c.bind(a,"resize",this),this.isResizeBound=!0)},q.prototype.unbindResize=function(){this.isResizeBound&&c.unbind(a,"resize",this),this.isResizeBound=!1},q.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},q.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},q.prototype.needsResizeLayout=function(){var a=n(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},q.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},q.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},q.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},q.prototype.reveal=function(a){var b=a&&a.length;if(b)for(var c=0;b>c;c++){var d=a[c];d.reveal()}},q.prototype.hide=function(a){var b=a&&a.length;if(b)for(var c=0;b>c;c++){var d=a[c];d.hide()}},q.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},q.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c],f=this.getItem(e);f&&b.push(f)}return b}},q.prototype.remove=function(a){a=d(a);var b=this.getItems(a);if(b&&b.length){this._itemsOn(b,"remove",function(){this.emitEvent("removeComplete",[this,b])});for(var c=0,f=b.length;f>c;c++){var g=b[c];g.remove(),e(g,this.items)}}},q.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize();var e=this.element.outlayerGUID;delete s[e],delete this.element.outlayerGUID,j&&j.removeData(this.element,this.constructor.namespace)},q.data=function(a){var b=a&&a.outlayerGUID;return b&&s[b]},q.create=function(a,c){function d(){q.apply(this,arguments)}return Object.create?d.prototype=Object.create(q.prototype):b(d.prototype,q.prototype),d.prototype.constructor=d,d.defaults=b({},q.defaults),b(d.defaults,c),d.prototype.settings={},d.namespace=a,d.data=q.data,d.Item=function(){p.apply(this,arguments)},d.Item.prototype=new p,g(function(){for(var b=f(a),c=h.querySelectorAll(".js-"+b),e="data-"+b+"-options",g=0,k=c.length;k>g;g++){var l,m=c[g],n=m.getAttribute(e);try{l=n&&JSON.parse(n)}catch(o){i&&i.error("Error parsing "+e+" on "+m.nodeName.toLowerCase()+(m.id?"#"+m.id:"")+": "+o);continue}var p=new d(m,l);j&&j.data(m,a,p)}}),j&&j.bridget&&j.bridget(a,d),d},q.Item=p,q}var h=a.document,i=a.console,j=a.jQuery,k=function(){},l=Object.prototype.toString,m="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},n=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],g):"object"==typeof exports?module.exports=g(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):a.Outlayer=g(a.eventie,a.docReady,a.EventEmitter,a.getSize,a.matchesSelector,a.Outlayer.Item)}(window),function(a){function b(a){function b(){a.Item.apply(this,arguments)}b.prototype=new a.Item,b.prototype._create=function(){this.id=this.layout.itemGUID++,a.Item.prototype._create.call(this),this.sortData={}},b.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var a=this.layout.options.getSortData,b=this.layout._sorters;for(var c in a){var d=b[c];this.sortData[c]=d(this.element,this)}}};var c=b.prototype.destroy;return b.prototype.destroy=function(){c.apply(this,arguments),this.css({display:""})},b}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],b):"object"==typeof exports?module.exports=b(require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.Item=b(a.Outlayer))}(window),function(a){function b(a,b){function c(a){this.isotope=a,a&&(this.options=a.options[this.namespace],this.element=a.element,this.items=a.filteredItems,this.size=a.size)}return function(){function a(a){return function(){return b.prototype[a].apply(this.isotope,arguments)}}for(var d=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],e=0,f=d.length;f>e;e++){var g=d[e];c.prototype[g]=a(g)}}(),c.prototype.needsVerticalResizeLayout=function(){var b=a(this.isotope.element),c=this.isotope.size&&b;return c&&b.innerHeight!==this.isotope.size.innerHeight},c.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},c.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},c.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},c.prototype.getSegmentSize=function(a,b){var c=a+b,d="outer"+b;if(this._getMeasurement(c,d),!this[c]){var e=this.getFirstItemSize();this[c]=e&&e[d]||this.isotope.size["inner"+b]}},c.prototype.getFirstItemSize=function(){var b=this.isotope.filteredItems[0];return b&&b.element&&a(b.element)},c.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},c.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},c.modes={},c.create=function(a,b){function d(){c.apply(this,arguments)}return d.prototype=new c,b&&(d.options=b),d.prototype.namespace=a,c.modes[a]=d,d},c}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],b):"object"==typeof exports?module.exports=b(require("get-size"),require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.LayoutMode=b(a.getSize,a.Outlayer))}(window),function(a){function b(a,b){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d}var c=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(e===b)return c}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],b):"object"==typeof exports?module.exports=b(require("outlayer"),require("get-size")):a.Masonry=b(a.Outlayer,a.getSize)}(window),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a,c){var d=a.create("masonry"),e=d.prototype._getElementOffset,f=d.prototype.layout,g=d.prototype._getMeasurement;b(d.prototype,c.prototype),d.prototype._getElementOffset=e,d.prototype.layout=f,d.prototype._getMeasurement=g;var h=d.prototype.measureColumns;d.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,h.call(this)};var i=d.prototype._manageStamp;return d.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,i.apply(this,arguments)},d}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],c):"object"==typeof exports?module.exports=c(require("../layout-mode"),require("masonry-layout")):c(a.Isotope.LayoutMode,a.Masonry)}(window),function(a){function b(a){var b=a.create("fitRows");return b.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},b.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth+this.gutter,c=this.isotope.size.innerWidth+this.gutter;0!==this.x&&b+this.x>c&&(this.x=0,this.y=this.maxY);var d={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+a.size.outerHeight),this.x+=b,d},b.prototype._getContainerSize=function(){return{height:this.maxY}},b}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],b):"object"==typeof exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window),function(a){function b(a){var b=a.create("vertical",{horizontalAlignment:0});return b.prototype._resetLayout=function(){this.y=0},b.prototype._getItemLayoutPosition=function(a){a.getSize();var b=(this.isotope.size.innerWidth-a.size.outerWidth)*this.options.horizontalAlignment,c=this.y;return this.y+=a.size.outerHeight,{x:b,y:c}},b.prototype._getContainerSize=function(){return{height:this.y}},b}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],b):"object"==typeof exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){return"[object Array]"===k.call(a)}function d(a){var b=[];if(c(a))b=a;else if(a&&"number"==typeof a.length)for(var d=0,e=a.length;e>d;d++)b.push(a[d]);else b.push(a);return b}function e(a,b){var c=l(b,a);-1!==c&&b.splice(c,1)}function f(a,c,f,i,k){function l(a,b){return function(c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e],h=c.sortData[g],i=d.sortData[g];if(h>i||i>h){var j=void 0!==b[g]?b[g]:b,k=j?1:-1;return(h>i?1:-1)*k}}return 0}}var m=a.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});m.Item=i,m.LayoutMode=k,m.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),a.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var b in k.modes)this._initLayoutMode(b)},m.prototype.reloadItems=function(){this.itemGUID=0,a.prototype.reloadItems.call(this)},m.prototype._itemize=function(){for(var b=a.prototype._itemize.apply(this,arguments),c=0,d=b.length;d>c;c++){var e=b[c];e.id=this.itemGUID++}return this._updateItemsSortData(b),b},m.prototype._initLayoutMode=function(a){var c=k.modes[a],d=this.options[a]||{};this.options[a]=c.options?b(c.options,d):d,this.modes[a]=new c(this)},m.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},m.prototype._layout=function(){var a=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,a),this._isLayoutInited=!0},m.prototype.arrange=function(a){function b(){d.reveal(c.needReveal),d.hide(c.needHide)}this.option(a),this._getIsInstant();var c=this._filter(this.items);this.filteredItems=c.matches;var d=this;this._isInstant?this._noTransition(b):b(),this._sort(),this._layout()},m.prototype._init=m.prototype.arrange,m.prototype._getIsInstant=function(){var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=a,a},m.prototype._filter=function(a){var b=this.options.filter;b=b||"*";for(var c=[],d=[],e=[],f=this._getFilterTest(b),g=0,h=a.length;h>g;g++){var i=a[g];if(!i.isIgnored){var j=f(i);j&&c.push(i),j&&i.isHidden?d.push(i):j||i.isHidden||e.push(i)}}return{matches:c,needReveal:d,needHide:e}},m.prototype._getFilterTest=function(a){return g&&this.options.isJQueryFiltering?function(b){return g(b.element).is(a)}:"function"==typeof a?function(b){return a(b.element)}:function(b){return f(b.element,a)}},m.prototype.updateSortData=function(a){var b;a?(a=d(a),b=this.getItems(a)):b=this.items,this._getSorters(),this._updateItemsSortData(b)},m.prototype._getSorters=function(){var a=this.options.getSortData;for(var b in a){var c=a[b];this._sorters[b]=n(c)}},m.prototype._updateItemsSortData=function(a){for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.updateSortData()}};var n=function(){function a(a){if("string"!=typeof a)return a;var c=h(a).split(" "),d=c[0],e=d.match(/^\[(.+)\]$/),f=e&&e[1],g=b(f,d),i=m.sortDataParsers[c[1]];return a=i?function(a){return a&&i(g(a))}:function(a){return a&&g(a)}}function b(a,b){var c;return c=a?function(b){return b.getAttribute(a)}:function(a){var c=a.querySelector(b);return c&&j(c)}}return a}();m.sortDataParsers={parseInt:function(a){return parseInt(a,10)},parseFloat:function(a){return parseFloat(a)}},m.prototype._sort=function(){var a=this.options.sortBy;if(a){var b=[].concat.apply(a,this.sortHistory),c=l(b,this.options.sortAscending);this.filteredItems.sort(c),a!==this.sortHistory[0]&&this.sortHistory.unshift(a)}},m.prototype._mode=function(){var a=this.options.layoutMode,b=this.modes[a];if(!b)throw Error("No layout mode: "+a);return b.options=this.options[a],b},m.prototype._resetLayout=function(){a.prototype._resetLayout.call(this),this._mode()._resetLayout()},m.prototype._getItemLayoutPosition=function(a){return this._mode()._getItemLayoutPosition(a)},m.prototype._manageStamp=function(a){this._mode()._manageStamp(a)},m.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},m.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},m.prototype.appended=function(a){var b=this.addItems(a);if(b.length){var c=this._filterRevealAdded(b);this.filteredItems=this.filteredItems.concat(c)}},m.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){this._resetLayout(),this._manageStamps();var c=this._filterRevealAdded(b);this.layoutItems(this.filteredItems),this.filteredItems=c.concat(this.filteredItems),this.items=b.concat(this.items)}},m.prototype._filterRevealAdded=function(a){var b=this._filter(a);return this.hide(b.needHide),this.reveal(b.matches),this.layoutItems(b.matches,!0),b.matches},m.prototype.insert=function(a){var b=this.addItems(a);if(b.length){var c,d,e=b.length;for(c=0;e>c;c++)d=b[c],this.element.appendChild(d.element);var f=this._filter(b).matches;for(c=0;e>c;c++)b[c].isLayoutInstant=!0;for(this.arrange(),c=0;e>c;c++)delete b[c].isLayoutInstant;this.reveal(f)}};var o=m.prototype.remove;return m.prototype.remove=function(a){a=d(a);var b=this.getItems(a);if(o.call(this,a),b&&b.length)for(var c=0,f=b.length;f>c;c++){var g=b[c];e(g,this.filteredItems)}},m.prototype.shuffle=function(){for(var a=0,b=this.items.length;b>a;a++){var c=this.items[a];c.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()
},m.prototype._noTransition=function(a){var b=this.options.transitionDuration;this.options.transitionDuration=0;var c=a.call(this);return this.options.transitionDuration=b,c},m.prototype.getFilteredItemElements=function(){for(var a=[],b=0,c=this.filteredItems.length;c>b;b++)a.push(this.filteredItems[b].element);return a},m}var g=a.jQuery,h=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},i=document.documentElement,j=i.textContent?function(a){return a.textContent}:function(a){return a.innerText},k=Object.prototype.toString,l=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],f):"object"==typeof exports?module.exports=f(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):a.Isotope=f(a.Outlayer,a.getSize,a.matchesSelector,a.Isotope.Item,a.Isotope.LayoutMode)}(window),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),window.averta={},function(a){function b(){if("result"in arguments.callee)return arguments.callee.result;var a=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,b=document.getElementsByTagName("script")[0];for(var c in b.style)if(a.test(c))return arguments.callee.result=c.match(a)[0];return arguments.callee.result="WebkitOpacity"in b.style?"Webkit":"KhtmlOpacity"in b.style?"Khtml":""}function c(a){var b=document.body||document.documentElement,c=b.style,d=a;if("string"==typeof c[d])return!0;v=["Moz","Webkit","Khtml","O","ms"],d=d.charAt(0).toUpperCase()+d.substr(1);for(var e=0;e<v.length;e++)if("string"==typeof c[v[e]+d])return!0;return!1}function d(){return c("transition")}function e(){return c("transform")}function f(){if(!e())return!1;var a,b=document.createElement("i"),c={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};b.style.display="block",document.body.insertBefore(b,null);for(var d in c)void 0!==b.style[d]&&(b.style[d]="translate3d(1px,1px,1px)",a=window.getComputedStyle(b).getPropertyValue(c[d]));return document.body.removeChild(b),null!=a&&a.length>0&&"none"!==a}window["package"]=function(a){window[a]||(window[a]={})};var g=function(a,b){for(var c in b)a[c]=b[c]};Function.prototype.extend=function(a){"function"==typeof a.prototype.constructor?(g(this.prototype,a.prototype),this.prototype.constructor=this):(this.prototype.extend(a),this.prototype.constructor=this)};var h={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document,a(document).ready(function(){window._jcsspfx=b(),window._csspfx=h[window._jcsspfx],window._cssanim=d(),window._css3d=f(),window._css2d=e()}),window.parseQueryString=function(a){var b={};return a.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(a,c,d,e){b[c]=e}),b};var i=50/3;if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,i)}}()),window.getComputedStyle||(window.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},a.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),jQuery){a.jqLoadFix=function(){if(this.complete){var b=this;setTimeout(function(){a(b).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);var j=!!navigator.userAgent.match(/Trident\/7\./);j&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,a.fn.preloadImg=function(b,c){return this.each(function(){var d=a(this),e=this,f=new Image;f.onload=function(a){null==a&&(a={}),d.attr("src",b),a.width=f.width,a.height=f.height,setTimeout(function(){c.call(e,a)},50),f=null},f.src=b}),this}}}(jQuery),function(){"use strict";averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(a){var b=new averta.EventDispatcher;for(var c in b)"constructor"!=c&&(a[c]=averta.EventDispatcher.prototype[c])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(a,b,c){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push({listener:b,ref:c})},removeEventListener:function(a,b,c){if(this.listeners[a]){for(var d=0,e=this.listeners[a].length;e>d;++d)b==this.listeners[a][d].listener&&c==this.listeners[a][d].ref&&this.listeners[a].splice(d,0);0==this.listeners[a].length&&delete this.listeners[a]}},dispatchEvent:function(a){if(a.target=this,this.listeners[a.type])for(var b=0,c=this.listeners[a.type].length;c>b;++b)this.listeners[a.type][b].listener.call(this.listeners[a.type][b].ref,a)}}}(),function(a){"use strict";var b="ontouchstart"in document,c=window.navigator.pointerEnabled,d=!c&&window.navigator.msPointerEnabled,e=c||d,f=(c?"pointerdown ":"")+(d?"MSPointerDown ":"")+(b?"touchstart ":"")+"mousedown",g=(c?"pointermove ":"")+(d?"MSPointerMove ":"")+(b?"touchmove ":"")+"mousemove",h=(c?"pointerup ":"")+(d?"MSPointerUp ":"")+(b?"touchend ":"")+"mouseup",i=(c?"pointercancel ":"")+(d?"MSPointerCancel ":"")+"touchcancel";averta.TouchSwipe=function(a){this.$element=a,this.enabled=!0,a.bind(f,{target:this},this.__touchStart),a[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.lastStatus={}};var j=averta.TouchSwipe.prototype;j.getDirection=function(a,b){switch(this.swipeType){case"horizontal":return a<=this.start_x?"left":"right";case"vertical":return b<=this.start_y?"up":"down";case"all":return Math.abs(a-this.start_x)>Math.abs(b-this.start_y)?a<=this.start_x?"left":"right":b<=this.start_y?"up":"down"}},j.priventDefultEvent=function(a,b){var c=Math.abs(a-this.start_x),d=Math.abs(b-this.start_y),e=c>d;return"horizontal"===this.swipeType&&e||"vertical"===this.swipeType&&!e},j.createStatusObject=function(a){var b,c,d={};return b=this.lastStatus.distanceX||0,c=this.lastStatus.distanceY||0,d.distanceX=a.pageX-this.start_x,d.distanceY=a.pageY-this.start_y,d.moveX=d.distanceX-b,d.moveY=d.distanceY-c,d.distance=parseInt(Math.sqrt(Math.pow(d.distanceX,2)+Math.pow(d.distanceY,2))),d.duration=(new Date).getTime()-this.start_time,d.direction=this.getDirection(a.pageX,a.pageY),d},j.__reset=function(a,c){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime(),this.start_x=b?a.touches[0].pageX:e?a.pageX:c.pageX,this.start_y=b?a.touches[0].pageY:e?a.pageY:c.pageY},j.__touchStart=function(c){var d=c.data.target,f=c;if(d.enabled){if(c=c.originalEvent,e&&a(this).css("-ms-touch-action","horizontal"===d.swipeType?"pan-y":"pan-x"),!d.onSwipe)return void a.error("Swipe listener is undefined");if(!d.touchStarted){d.start_x=b?c.touches[0].pageX:e?c.pageX:f.pageX,d.start_y=b?c.touches[0].pageY:e?c.pageY:f.pageY,d.start_time=(new Date).getTime(),a(document).bind(h,{target:d},d.__touchEnd).bind(g,{target:d},d.__touchMove).bind(i,{target:d},d.__touchCancel);var j=b?c.touches[0]:e?c:f,k=d.createStatusObject(j);k.phase="start",d.onSwipe.call(null,k),b||f.preventDefault(),d.lastStatus=k,d.touchStarted=!0}}},j.__touchMove=function(a){var c=a.data.target,d=a;if(a=a.originalEvent,c.touchStarted){clearTimeout(c.timo),c.timo=setTimeout(function(){c.__reset(a,d)},60);var f=b?a.touches[0]:e?a:d,g=c.createStatusObject(f);c.priventDefultEvent(f.pageX,f.pageY)&&d.preventDefault(),g.phase="move",c.lastStatus=g,c.onSwipe.call(null,g)}},j.__touchEnd=function(c){var d=c.data.target,f=c;c=c.originalEvent,clearTimeout(d.timo);var j=(b?c.touches[0]:e?c:f,d.lastStatus);b||f.preventDefault(),j.phase="end",d.touchStarted=!1,d.priventEvt=null,a(document).unbind(h,d.__touchEnd).unbind(g,d.__touchMove).unbind(i,d.__touchCancel),j.speed=j.distance/j.duration,d.onSwipe.call(null,j)},j.__touchCancel=function(a){var b=a.data.target;b.__touchEnd(a)},j.enable=function(){this.enabled||(this.enabled=!0)},j.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){"use strict";averta.Ticker=function(){};var a=averta.Ticker,b=[],c=0,d=!0;a.add=function(d,e){return b.push([d,e]),1===b.length&&a.start(),c=b.length},a.remove=function(d,e){for(var f=0,g=b.length;g>f;++f)b[f]&&b[f][0]===d&&b[f][1]===e&&b.splice(f,1);c=b.length,0===c&&a.stop()},a.start=function(){d&&(d=!1,e())},a.stop=function(){d=!0};var e=function(){if(!a.__stopped){for(var d,f=0;f!==c;f++)d=b[f],d[0].call(d[1]);requestAnimationFrame(e)}}}(),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(a,b){this.delay=a,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,b&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){"use strict";window.CSSTween=function(a,b,c,d){this.$element=a,this.duration=b||1e3,this.delay=c||0,this.ease=d||"linear"};var a=CSSTween.prototype;a.to=function(a,b){return this.to_cb=a,this.to_cb_target=b,this},a.from=function(a,b){return this.fr_cb=a,this.fr_cb_target=b,this},a.onComplete=function(a,b){return this.oc_fb=a,this.oc_fb_target=b,this},a.chain=function(a){return this.chained_tween=a,this},a.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},a.start=function(){clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(this.$element.css(window._jcsspfx+"TransitionDuration","0ms"),this.fr_cb.call(this.fr_cb_target));var a=this;return this.onTransComplete=function(){a.fresh&&(a.reset(),this.$element.css(window._jcsspfx+"TransitionDuration","").css(window._jcsspfx+"TransitionProperty","").css(window._jcsspfx+"TransitionTimingFunction","").css(window._jcsspfx+"TransitionDelay",""),a.fresh=!1,a.chained_tween&&a.chained_tween.start(),a.oc_fb&&a.oc_fb.call(a.oc_fb_target))},this.start_to=setTimeout(function(){a.$element&&(a.$element.css(window._jcsspfx+"TransitionDuration",a.duration+"ms").css(window._jcsspfx+"TransitionProperty","all"),a.delay>0?a.$element.css(window._jcsspfx+"TransitionDelay",a.delay+"ms"):a.$element.css(window._jcsspfx+"TransitionDelay",""),a.$element.css(window._jcsspfx+"TransitionTimingFunction",a.ease),a.to_cb&&a.to_cb.call(a.to_cb_target),a.end_to=setTimeout(function(){a.onTransComplete()},a.duration+(a.delay||0)))},100),this}}(),function(){"use strict";function a(a,c){if(void 0!==c.x||void 0!==c.y)if(b){var d=window._jcsspfx+"Transform";void 0!==c.x&&(c[d]=(c[d]||"")+" translateX("+c.x+"px)",delete c.x),void 0!==c.y&&(c[d]=(c[d]||"")+" translateY("+c.y+"px)",delete c.y)}else{if(void 0!==c.x){var e="auto"!==a.css("right")?"right":"left";c[e]=c.x+"px",delete c.x}if(void 0!==c.y){var f="auto"!==a.css("bottom")?"bottom":"top";c[f]=c.y+"px",delete c.y}}return c}var b=null;window.CTween={},CTween.setPos=function(b,c){b.css(a(b,c))},CTween.animate=function(c,d,e,f){if(null==b&&(b=window._cssanim),f=f||{},a(c,e),b){var g=new CSSTween(c,d,f.delay,EaseDic[f.ease]);return g.to(function(){c.css(e)}),f.complete&&g.onComplete(f.complete,f.target),g.start(),g.stop=g.reset,g}var h;return f.delay&&c.delay(f.delay),f.complete&&(h=function(){f.complete.call(f.target)}),c.stop(!0).animate(e,d,f.ease||"linear",h),c},CTween.fadeOut=function(a,b,c){var d={};c&&(d.complete=function(){a.remove()}),CTween.animate(a,b||1e3,{opacity:0},d)},CTween.fadeIn=function(a,b){a.css("opacity",0),CTween.animate(a,b||1e3,{opacity:1})}}(),function(){window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}}(),function(){"use strict";window.MSAligner=function(a,b,c){this.$container=b,this.$img=c,this.type=a||"stretch",this.widthOnly=!1,this.heightOnly=!1};var a=MSAligner.prototype;a.init=function(a,b){switch(this.baseWidth=a,this.baseHeight=b,this.imgRatio=a/b,this.imgRatio2=b/a,this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},a.align=function(){if(this.needAlign){var a=this.$container.width(),b=this.$container.height(),c=a/b;"fill"==this.type?this.imgRatio<c?(this.$img.width(a),this.$img.height(a*this.imgRatio2)):(this.$img.height(b),this.$img.width(b*this.imgRatio)):"fit"==this.type&&(this.imgRatio<c?(this.$img.height(b),this.$img.width(b*this.imgRatio)):(this.$img.width(a),this.$img.height(a*this.imgRatio2))),this.setMargin()}},a.setMargin=function(){var a=this.$container.width(),b=this.$container.height();this.$img.css("margin-top",(b-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(a-this.$img[0].offsetWidth)/2+"px")}}(),function(){"use strict";var a={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},b=function(b,c,d){if(null===c||null===b)throw new Error("Max and Min values are required.");this.options=d||{};for(var e in a)e in this.options||(this.options[e]=a[e]);this._max_value=c,this._min_value=b,this.value=b,this.end_loc=b,this.current_snap=this.getSnapNum(b),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},c=b.prototype;c.changeTo=function(a,b,c,d,e){if(this.stopped=!1,this._internalStop(),a=this._checkLimits(a),c=Math.abs(c||0),this.options.snapping&&(d=d||this.getSnapNum(a),e!==!1&&this._callsnapChange(d),this.current_snap=d),b){this.animating=!0;var f=this,g=++f.__animID,h=a-f.value,i=0,j=a,k=1-f.options.friction,l=k+(c-20)*k*1.3/f.options.maxSpeed,m=function(){if(g===f.__animID){var b=a-f.value;if(!(Math.abs(b)>f.options.minValidDist&&f.animating))return f.animating&&(f.value=a,f._callrenderer()),f.animating=!1,g!==f.__animID&&(f.__animID=-1),void f._callonComplete("anim");window.requestAnimationFrame(m),f.value=j-h*Math.exp(-++i*l),f._callrenderer()}};return void m()}this.value=a,this._callrenderer()},c.drag=function(a){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=a,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*a):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},c.push=function(a){if(this.stopped=!1,this.options.snapping&&Math.abs(a)<=this.options.snappingMinSpeed)return void this.cancel();if(this.__speed=a,this.__startSpeed=a,this.end_loc=this._calculateEnd(),this.options.snapping){var b=this.getSnapNum(this.value),c=this.getSnapNum(this.end_loc);if(this.options.paging)return b=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(a>0?this.gotoSnap(b+1,!0,a):this.gotoSnap(b-1,!0,a));if(b===c)return void this.cancel();this._callsnapChange(c),this.current_snap=c}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},c.bounce=function(a){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=a,this.__startSpeed=a,this.end_loc=this._calculateEnd(),this._startDecelaration())},c.stop=function(){this.stopped=!0,this._internalStop()},c.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},c.renderCallback=function(a,b){this.__renderHook={fun:a,ref:b}},c.snappingCallback=function(a,b){this.__snapHook={fun:a,ref:b}},c.snapCompleteCallback=function(a,b){this.__compHook={fun:a,ref:b}},c.getSnapNum=function(a){return Math.floor((a+this.options.snapsize/2)/this.options.snapsize)},c.nextSnap=function(){this._internalStop();var a=this.getSnapNum(this.value);!this.options.endless&&(a+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(a+1,!0)},c.prevSnap=function(){this._internalStop();var a=this.getSnapNum(this.value);!this.options.endless&&(a-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(a-1,!0)},c.gotoSnap=function(a,b,c){this.changeTo(a*this.options.snapsize,b,c,a)},c.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},c._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},c._calculateExtraMove=function(a){var b=a%this.options.snapsize;return b<this.options.snapsize/2?-b:this.options.snapsize-b},c._calculateEnd=function(a){for(var b=this.__speed,c=this.value,d=0;Math.abs(b)>this.options.minValidDist;)c+=b,b*=this.options.friction,d++;return a?d:c},c._checkLimits=function(a){return this.options.endless?a:a<this._min_value?this._min_value:a>this._max_value?this._max_value:a},c._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},c._callsnapChange=function(a){this.__snapHook&&a!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,a,a-this.current_snap)},c._callonComplete=function(a){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,a)},c._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var a=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+a-this.__extrStep,this.__extrStep=a}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){var b=0;this.value<this._min_value?b=this._min_value-this.value:this.value>this._max_value&&(b=this._max_value-this.value),this.__isout=Math.abs(b)>=this.options.minValidDist,this.__isout&&(this.__speed*b<=0?this.__speed+=b*this.options.outFriction:this.__speed=b*this.options.outAcceleration)}},c._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var a=this,b=function(){a._deceleration&&(a._computeDeceleration(),Math.abs(a.__speed)>a.options.minValidDist||a.__isout?window.requestAnimationFrame(b):(a._deceleration=!1,a.__isout=!1,a.value=this.__needsSnap&&a.options.snapping&&!a.options.paging?a._checkLimits(a.end_loc+a.__extraMove):Math.round(a.value),a._callrenderer(),a._callonComplete("decel")))};b()}},window.Controller=b}(),function(a){window.MSLayerEffects={};var b,c={opacity:0};MSLayerEffects.setup=function(){if(!b){b=!0;var d=MSLayerEffects,e=window._jcsspfx+"Transform",f=window._jcsspfx+"TransformOrigin",g=a.browser.opera;_2d=window._css2d&&window._cssanim&&!g,d.defaultValues={left:0,top:0,opacity:1,right:0,bottom:0},d.defaultValues[e]="",d.rf=1,d.presetEffParams={random:"30|300","long":300,"short":30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},d.fade=function(){return c},d.left=_2d?function(a,b){var c=b===!1?{}:{opacity:0};return c[e]="translateX("+-a*d.rf+"px)",c}:function(a,b){var c=b===!1?{}:{opacity:0};return c.left=-a*d.rf+"px",c},d.right=_2d?function(a,b){var c=b===!1?{}:{opacity:0};return c[e]="translateX("+a*d.rf+"px)",c}:function(a,b){var c=b===!1?{}:{opacity:0};return c.left=a*d.rf+"px",c},d.top=_2d?function(a,b){var c=b===!1?{}:{opacity:0};return c[e]="translateY("+-a*d.rf+"px)",c}:function(a,b){var c=b===!1?{}:{opacity:0};return c.top=-a*d.rf+"px",c},d.bottom=_2d?function(a,b){var c=b===!1?{}:{opacity:0};return c[e]="translateY("+a*d.rf+"px)",c}:function(a,b){var c=b===!1?{}:{opacity:0};return c.top=a*d.rf+"px",c},d.from=_2d?function(a,b,c){var f=c===!1?{}:{opacity:0};return f[e]="translateX("+a*d.rf+"px) translateY("+b*d.rf+"px)",f}:function(a,b,c){var e=c===!1?{}:{opacity:0};return e.top=b*d.rf+"px",e.left=a*d.rf+"px",e},d.rotate=_2d?function(a,b){var c={opacity:0};return c[e]=" rotate("+a+"deg)",b&&(c[f]=b),c}:function(){return c},d.rotateleft=_2d?function(a,b,c,g){var h=d.left(b,g);return h[e]+=" rotate("+a+"deg)",c&&(h[f]=c),h}:function(a,b,c,e){return d.left(b,e)},d.rotateright=_2d?function(a,b,c,g){var h=d.right(b,g);return h[e]+=" rotate("+a+"deg)",c&&(h[f]=c),h}:function(a,b,c,e){return d.right(b,e)},d.rotatetop=_2d?function(a,b,c,g){var h=d.top(b,g);return h[e]+=" rotate("+a+"deg)",c&&(h[f]=c),h}:function(a,b,c,e){return d.top(b,e)},d.rotatebottom=_2d?function(a,b,c,g){var h=d.bottom(b,g);return h[e]+=" rotate("+a+"deg)",c&&(h[f]=c),h}:function(a,b,c,e){return d.bottom(b,e)},d.rotatefrom=_2d?function(a,b,c,g,h){var i=d.from(b,c,h);return i[e]+=" rotate("+a+"deg)",g&&(i[f]=g),i}:function(a,b,c,e,f){return d.from(b,c,f)},d.skewleft=_2d?function(a,b,c){var f=d.left(b,c);return f[e]+=" skewX("+a+"deg)",f}:function(a,b,c){return d.left(b,c)},d.skewright=_2d?function(a,b,c){var f=d.right(b,c);return f[e]+=" skewX("+-a+"deg)",f}:function(a,b,c){return d.right(b,c)},d.skewtop=_2d?function(a,b,c){var f=d.top(b,c);return f[e]+=" skewY("+a+"deg)",f}:function(a,b,c){return d.top(b,c)},d.skewbottom=_2d?function(a,b,c){var f=d.bottom(b,c);return f[e]+=" skewY("+-a+"deg)",f}:function(a,b,c){return d.bottom(b,c)},d.scale=_2d?function(a,b,c,d){var g=d===!1?{}:{opacity:0};return g[e]=" scaleX("+a+") scaleY("+b+")",c&&(g[f]=c),g}:function(a,b,c,d){return d===!1?{}:{opacity:0}},d.scaleleft=_2d?function(a,b,c,g,h){var i=d.left(c,h);return i[e]=" scaleX("+a+") scaleY("+b+")",g&&(i[f]=g),i}:function(a,b,c,e,f){return d.left(c,f)},d.scaleright=_2d?function(a,b,c,g,h){var i=d.right(c,h);return i[e]=" scaleX("+a+") scaleY("+b+")",g&&(i[f]=g),i}:function(a,b,c,e,f){return d.right(c,f)},d.scaletop=_2d?function(a,b,c,g,h){var i=d.top(c,h);return i[e]=" scaleX("+a+") scaleY("+b+")",g&&(i[f]=g),i}:function(a,b,c,e,f){return d.top(c,f)},d.scalebottom=_2d?function(a,b,c,g,h){var i=d.bottom(c,h);return i[e]=" scaleX("+a+") scaleY("+b+")",g&&(i[f]=g),i}:function(a,b,c,e,f){return d.bottom(c,f)},d.scalefrom=_2d?function(a,b,c,g,h,i){var j=d.from(c,g,i);return j[e]+=" scaleX("+a+") scaleY("+b+")",h&&(j[f]=h),j}:function(a,b,c,e,f,g){return d.from(c,e,g)},d.rotatescale=_2d?function(a,b,c,g,h){var i=d.scale(b,c,g,h);return i[e]+=" rotate("+a+"deg)",g&&(i[f]=g),i}:function(a,b,c,e,f){return d.scale(b,c,e,f)},d.front=window._css3d?function(a,b){var c=b===!1?{}:{opacity:0};return c[e]="perspective(2000px) translate3d(0 , 0 ,"+a+"px ) rotate(0.001deg)",c}:function(){return c},d.back=window._css3d?function(a,b){var c=b===!1?{}:{opacity:0};return c[e]="perspective(2000px) translate3d(0 , 0 ,"+-a+"px ) rotate(0.001deg)",c}:function(){return c},d.rotatefront=window._css3d?function(a,b,c,d){var g=d===!1?{}:{opacity:0};return g[e]="perspective(2000px) translate3d(0 , 0 ,"+b+"px ) rotate("+(a||.001)+"deg)",c&&(g[f]=c),g}:function(){return c},d.rotateback=window._css3d?function(a,b,c,d){var g=d===!1?{}:{opacity:0};return g[e]="perspective(2000px) translate3d(0 , 0 ,"+-b+"px ) rotate("+(a||.001)+"deg)",c&&(g[f]=c),g}:function(){return c},d.rotate3dleft=window._css3d?function(a,b,c,g,h,i){var j=d.left(g,i);return j[e]+=(a?" rotateX("+a+"deg)":" ")+(b?" rotateY("+b+"deg)":"")+(c?" rotateZ("+c+"deg)":""),h&&(j[f]=h),j}:function(a,b,c,e,f,g){return d.left(e,g)},d.rotate3dright=window._css3d?function(a,b,c,g,h,i){var j=d.right(g,i);return j[e]+=(a?" rotateX("+a+"deg)":" ")+(b?" rotateY("+b+"deg)":"")+(c?" rotateZ("+c+"deg)":""),h&&(j[f]=h),j}:function(a,b,c,e,f,g){return d.right(e,g)},d.rotate3dtop=window._css3d?function(a,b,c,g,h,i){var j=d.top(g,i);return j[e]+=(a?" rotateX("+a+"deg)":" ")+(b?" rotateY("+b+"deg)":"")+(c?" rotateZ("+c+"deg)":""),h&&(j[f]=h),j}:function(a,b,c,e,f,g){return d.top(e,g)},d.rotate3dbottom=window._css3d?function(a,b,c,g,h,i){var j=d.bottom(g,i);return j[e]+=(a?" rotateX("+a+"deg)":" ")+(b?" rotateY("+b+"deg)":"")+(c?" rotateZ("+c+"deg)":""),h&&(j[f]=h),j}:function(a,b,c,e,f,g){return d.bottom(e,g)},d.rotate3dfront=window._css3d?function(a,b,c,g,h,i){var j=d.front(g,i);return j[e]+=(a?" rotateX("+a+"deg)":" ")+(b?" rotateY("+b+"deg)":"")+(c?" rotateZ("+c+"deg)":""),h&&(j[f]=h),j}:function(a,b,c,e,f,g){return d.front(e,g)},d.rotate3dback=window._css3d?function(a,b,c,g,h,i){var j=d.back(g,i);return j[e]+=(a?" rotateX("+a+"deg)":" ")+(b?" rotateY("+b+"deg)":"")+(c?" rotateZ("+c+"deg)":""),h&&(j[f]=h),j}:function(a,b,c,e,f,g){return d.back(e,g)},d.t=window._css3d?function(a,b,c,g,h,i,j,k,l,m,n,o,p,q,r){var s=a===!1?{}:{opacity:0},t="perspective(2000px) ";"n"!==b&&(t+="translateX("+b*d.rf+"px) "),"n"!==c&&(t+="translateY("+c*d.rf+"px) "),"n"!==g&&(t+="translateZ("+g*d.rf+"px) "),"n"!==h&&(t+="rotate("+h+"deg) "),"n"!==i&&(t+="rotateX("+i+"deg) "),"n"!==j&&(t+="rotateY("+j+"deg) "),"n"!==k&&(t+="rotateZ("+k+"deg) "),"n"!==n&&(t+="skewX("+n+"deg) "),"n"!==o&&(t+="skewY("+o+"deg) "),"n"!==l&&(t+="scaleX("+l+") "),"n"!==m&&(t+="scaleY("+m+")"),s[e]=t;var u="";return u+="n"!==p?p+"% ":"50% ",u+="n"!==q?q+"% ":"50% ",u+="n"!==r?r+"px":"",s[f]=u,s}:function(a,b,c,e,f){var f=a===!1?{}:{opacity:0};return"n"!==b&&(f.left=b*d.rf+"px"),"n"!==c&&(f.top=c*d.rf+"px"),f}}}}(jQuery),function(a){window.MSLayerElement=function(){this.$cont=a("<div></div>").addClass("layer-cont"),this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.resizable=!0,this.minWidth=-1,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","font-size","line-height","width","left","right","top","bottom"],this.baseStyle={}
};var b=MSLayerElement.prototype;b.__playAnimation=function(a,b){var c={};a.ease&&(c.ease=a.ease),this.show_tween=CTween.animate(this.$element,a.duration,b,c)},b._randomParam=function(a){var b=Number(a.slice(0,a.indexOf("|"))),c=Number(a.slice(a.indexOf("|")+1));return b+Math.random()*(c-b)},b._parseEff=function(a){var b=[];if(-1!==a.indexOf("(")){var c,d=a.slice(0,a.indexOf("(")).toLowerCase();b=a.slice(a.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),a=d;for(var e=0,f=b.length;f>e;++e)c=b[e],c in MSLayerEffects.presetEffParams&&(c=MSLayerEffects.presetEffParams[c]),b[e]=c}return{eff_name:a,eff_params:b}},b._parseEffParams=function(a){for(var b=[],c=0,d=a.length;d>c;++c){var e=a[c];"string"==typeof e&&-1!==e.indexOf("|")&&(e=this._randomParam(e)),b[c]=e}return b},b._checkPosKey=function(a,b){return"left"===a&&!(a in this.baseStyle)&&"right"in this.baseStyle?(b.right=-parseInt(b.left)+"px",delete b.left,!0):"top"===a&&!(a in this.baseStyle)&&"bottom"in this.baseStyle?(b.bottom=-parseInt(b.top)+"px",delete b.top,!0):!1},b.setStartAnim=function(b){a.extend(this.start_anim,b),a.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},b.setEndAnim=function(b){a.extend(this.end_anim,b)},b.create=function(){if(this.$element.css("display","none").removeAttr("data-delay").removeAttr("data-effect").removeAttr("data-duration").removeAttr("data-type"),void 0!==this.$element.data("resize")&&(this.resizable=this.$element.data("resize"),this.$element.removeAttr("data-resize")),void 0!==this.$element.data("fixed")&&(this.fixed=this.$element.data("fixed"),this.$element.removeAttr("data-fixed")),void 0!==this.$element.data("widthlimit")&&(this.minWidth=this.$element.data("widthlimit"),this.$element.removeAttr("data-widthlimit")),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),void 0!==this.$element.data("action")){var b=this.slide.slider.slideController;this.$element.on("click",function(c){b.runAction(a(this).data("action")),c.preventDefault()}).addClass("ms-action-layer")}a.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider;var c=this.layerOrigin=this.$element.data("origin");if(c){var d=c.charAt(0),e=c.charAt(1),f=this.$element.data("offset-x"),g=this.$element.data("offset-y");switch(void 0!==g?this.$element.removeAttr("data-offset-y"):g=0,d){case"t":this.$element[0].style.top=g+"px";break;case"b":this.$element[0].style.bottom=g+"px";break;case"m":this.$element[0].style.top=g+"px",this.middleAlign=!0}switch(void 0!==f?this.$element.removeAttr("data-offset-x"):f=0,e){case"l":this.$element[0].style.left=f+"px";break;case"r":this.$element[0].style.right=f+"px";break;case"c":this.$element[0].style.left=f+"px",this.centerAlign=!0}this.$element.removeAttr("data-origin")}this.parallax=this.$element.data("parallax"),null!=this.parallax&&(this.parallax/=100,this.$parallaxElement=a("<div></div>").addClass("ms-parallax-layer"),this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&&-1!==this.layerOrigin.indexOf("b"),this.alignedToBot&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this.parallaxCSS3DRenderer:window._css2d?this.parallaxCSS2DRenderer:this.parallax2DRenderer,"swipe"!==this.slider.options.parallaxMode&&averta.Ticker.add(this.parallaxRender,this))},b.moveParallax=function(a,b,c){this._paraX=a,this._paraY=b,c&&(this._lastParaX=a,this._lastParaY=b,this.parallaxRender())},b.parallaxCalc=function(){var a=this._paraX-this._lastParaX,b=this._paraY-this._lastParaY;this._lastParaX+=a/12,this._lastParaY+=b/12,Math.abs(a)<.019&&(this._lastParaX=this._paraX),Math.abs(b)<.019&&(this._lastParaY=this._paraY)},b.parallaxCSS3DRenderer=function(){this.parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px) translateZ(0)"},b.parallaxCSS2DRenderer=function(){this.parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px)"},b.parallax2DRenderer=function(){this.parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+"px":this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+"px",this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+"px"},b.init=function(){this.initialized=!0;var a;this.$element.css("visibility","");for(var b=0,c=this.__cssConfig.length;c>b;b++){var d=this.__cssConfig[b];a="text"===this.type&&"width"===d?this.$element[0].style.width:this.$element.css(d),"auto"!=a&&""!=a&&"normal"!=a&&(this.baseStyle[d]=parseInt(a))}this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&&(this.baseWidth=this.$element.outerWidth(!1))},b.locate=function(){var a,b,c=this.slide.$layers,d=parseFloat(c.css("width")),e=parseFloat(c.css("height"));this.visible(this.minWidth<d),a=this.resizeFactor=d/this.slide.slider.options.width;for(var f in this.baseStyle)b="top"===f||"left"===f||"bottom"===f||"right"===f,a=this.fixed&&b?1:this.resizeFactor,(this.resizable||b)&&("top"===f&&this.middleAlign?(this.baseHeight=this.$element.outerHeight(!1),this.$element.css(f,this.baseStyle[f]*a+(e-this.baseHeight*a)/2+"px")):"left"===f&&this.centerAlign?(this.baseWidth=this.$element.outerWidth(!1),this.$element.css(f,this.baseStyle[f]*a+(d-this.baseWidth*a)/2+"px")):this.$element.css(f,this.baseStyle[f]*a+"px"))},b.start=function(){if(!this.isShowing){this.isShowing=!0;var a,b,c=this.slide.$layers;MSLayerEffects.rf=this.resizeFactor;var d=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),e={};for(a in d)this._checkPosKey(a,d)||(null!=MSLayerEffects.defaultValues[a]&&(e[a]=MSLayerEffects.defaultValues[a]),a in this.baseStyle&&(b=this.baseStyle[a],this.middleAlign&&"top"===a&&(b+=(parseInt(c.height())-this.baseHeight*this.resizeFactor)/2),this.centerAlign&&"left"===a&&(b+=(parseInt(c.width())-this.baseWidth*this.resizeFactor)/2),d[a]=b+parseFloat(d[a])+"px",e[a]=b+"px"),this.$element.css(a,d[a]));var f=this;clearTimeout(this.to),this.to=setTimeout(function(){f.$element.css("display",""),f.__playAnimation(f.start_anim,e)},f.start_anim.delay||.01),this.cl_to=setTimeout(function(){f.show_cl=!0},(this.start_anim.delay||.01)+this.start_anim.duration),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){f.hide()},f.end_anim.time))}},b.hide=function(){this.isShowing=!1;var a=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in a)this._checkPosKey(key,a)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,a[key]),key in this.baseStyle&&(a[key]=this.baseStyle[key]+parseFloat(a[key])+"px"));this.__playAnimation(this.end_anim,a),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.cl_to)},b.reset=function(){this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity","100"),this.$element[0].style.transitionDuration="0ms",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto)},b.destroy=function(){this.reset(),this.$element.remove(),this.$cont.remove()},b.visible=function(a){this.isVisible!=a&&(this.isVisible=a,this.$element.css("display",a?"":"none"))}}(jQuery),function(a){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom","width","height"],this.type="image"},MSImageLayerElement.extend(MSLayerElement);var b=MSImageLayerElement.prototype,c=MSLayerElement.prototype;b.create=function(){if(this.link){var b=this.$element.parent();b.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),b=null}if(c.create.call(this),void 0!=this.$element.data("src"))this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{var d=this;this.$element.on("load",function(){d.slide.preloadCount--,0===d.slide.preloadCount&&d.slide.___onlayersReady()}).each(a.jqLoadFix)}a.browser.msie&&this.$element.on("dragstart",function(a){a.preventDefault()})},b.loadImage=function(){var a=this;this.$element.preloadImg(this.img_src,function(){a.slide.preloadCount--,0===a.slide.preloadCount&&a.slide.___onlayersReady()})}}(jQuery),function(a){window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push("height"),this.type="video"},MSVideoLayerElement.extend(MSLayerElement);var b=MSVideoLayerElement.prototype,c=MSLayerElement.prototype;b.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,!1),CTween.fadeOut(this.video_btn,500,!1),this.video_frame.attr("src","about:blank").css("display","block"),-1==this.video_url.indexOf("?")&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},b.start=function(){c.start.call(this),this.$element.data("autoplay")&&this.__playVideo()},b.reset=function(){return c.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?void this.img.css("opacity",1):void this.video_frame.attr("src",this.video_url)},b.create=function(){c.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");var b=0!=this.$element.has("img").length;if(b||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var d=this;if(this.video_btn=a("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){d.__playVideo()}),b){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),void 0!==this.img.data("src"))this.img_src=this.img.data("src"),this.img.removeAttr("data-src");else{var d=this;this.img.attr("src",this.img_src).on("load",function(){d.slide.preloadCount--,0==d.slide.preloadCount&&d.slide.___onlayersReady()}).each(a.jqLoadFix)}a.browser.msie&&this.img.on("dragstart",function(a){a.preventDefault()})}}},b.loadImage=function(){var a=this;this.img.preloadImg(this.img_src,function(){a.slide.preloadCount--,0==a.slide.preloadCount&&a.slide.___onlayersReady()})}}(jQuery),function(a){"use strict";window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo",this.hide_start=!0,this.type="hotspot"},MSHotspotLayer.extend(MSLayerElement);var b=MSHotspotLayer.prototype,c=MSLayerElement.prototype;b._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}),this.hide_start=!1))},b._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var a=this;clearTimeout(this.hto),this.hto=setTimeout(function(){a.hide_start=!0,a._tween=CTween.animate(a.tt,900,a.from,{ease:"easeOut"+a.ease,complete:function(){a.tt.css("display","none")}})},200)}},b._updateClassName=function(a){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(a),this._lastClass=a},b._alignPolicy=function(){{var a=(this.tt.outerHeight(!1),Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")))),b=window.innerWidth;window.innerHeight}switch(this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+a>b||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},b._locateTT=function(){var a=this.$element.offset(),b=this.slide.slider.$element.offset(),c=50,d=15;this.pos_x=a.left-b.left-this.slide.slider.$element.scrollLeft(),this.pos_y=a.top-b.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left","");var e=15,f=15;switch(this.align){case"top":var g=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight(!1)-f-d,this.base_l=this.pos_x-g/2,this.base_l+g>window.innerWidth&&(this.tt_arrow.css("margin-left",-e/2+this.base_l+g-window.innerWidth+"px"),this.base_l=window.innerWidth-g),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-e/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-"+c+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-c+"px",this.to.top=this.base_t+"px");break;case"bottom":var g=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+f+d,this.base_l=this.pos_x-g/2,this.base_l+g>window.innerWidth&&(this.tt_arrow.css("margin-left",-e/2+this.base_l+g-window.innerWidth+"px"),this.base_l=window.innerWidth-g),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-e/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY("+c+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+c+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+e+d,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX("+c+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+c+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-e-this.tt.outerWidth(!1)-d,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-"+c+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-c+"px",this.to.left=this.base_l+"px")}var h=this._alignPolicy();return null!==h?(this.align=h,void this._locateTT()):(this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),void this.tt.css(this.from))},b.start=function(){c.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},b.reset=function(){c.reset.call(this),this.tt.detach()},b.create=function(){var b=this;c.create.call(this),this._orgAlign=this.align=void 0!==this.$element.data("align")?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",function(){b._showTT()}).on("mouseleave",function(){b._hideTT()}),this.point=a('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var d=this.$element.data("link"),e=this.$element.data("target");d&&this.point.on("click",function(){window.open(d,e||"_self")}),this.tt=a("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),void 0!==this.$element.data("width")&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width")),this.tt_arrow=a("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=a("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt),this.$element.data("stay-hover")===!0&&this.tt.on("mouseenter",function(){b.hide_start||(clearTimeout(b.hto),b._tween.stop(!0),b._showTT())}).on("mouseleave",function(){b._hideTT()})}}(jQuery),function(){window.MSButtonLayer=function(){MSLayerElement.call(this),this.type="button"},MSButtonLayer.extend(MSLayerElement);var a=MSButtonLayer.prototype,b=MSLayerElement.prototype,c=["top","left","bottom","right"];a.create=function(){b.create.call(this),this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative"),this.$container=this.$element.parent()},a.locate=function(){b.locate.call(this);for(var a,d,e=0;4>e;e++)a=c[e],a in this.baseStyle&&(d=this.$element.css(a),this.$element.css(a,""),this.$container.css(a,d));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}}(jQuery),window.MSSliderEvent=function(a){this.type=a},MSSliderEvent.CHANGE_START="ms_changestart",MSSliderEvent.CHANGE_END="ms_changeend",MSSliderEvent.WAITING="ms_waiting",MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange",MSSliderEvent.VIDEO_PLAY="ms_videoPlay",MSSliderEvent.VIDEO_CLOSE="ms_videoclose",MSSliderEvent.INIT="ms_init",MSSliderEvent.RESIZE="ms_resize",MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc",MSSliderEvent.DESTROY="ms_destroy",function(a){"use strict";window.MSSlide=function(){this.$element=null,this.$loading=a("<div></div>").addClass("ms-slide-loading"),this.layers=[],this.view=null,this.index=-1,this.__width=0,this.__height=0,this.preloadCount=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=a.browser.mozilla};var b=MSSlide.prototype;b.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},b.onSwipeCancel=function(){this.link&&(this.linkdis=!1),this.video&&(this.videodis=!1)},b.addLayer=function(b){this.hasLayers||(this.$layers=a("<div></div>").addClass("ms-slide-layers")),this.hasLayers=!0,this.$layers.append(b.$element),this.layers.push(b),b.slide=this,b.create(),b.parallax&&(this.hasParallaxLayer=!0),b.needPreload&&this.preloadCount++},b.___onlayersReady=function(){this.ready=!0,this.slider.api._startTimer(),this.selected&&(this.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setup(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},b.startLayers=function(){for(var a=0,b=this.layers.length;b>a;++a)this.layers[a].start()},b.initLayers=function(a){if(!(this.init&&!a||this.slider.init_safemode)){this.init=!0;for(var b=0,c=this.layers.length;c>b;++b)this.layers[b].init()}},b.locateLayers=function(){for(var a=0,b=this.layers.length;b>a;++a)this.layers[a].locate()},b.resetLayers=function(){this.$layers.css("display","none"),this.$layers.css("opacity",1);for(var a=0,b=this.layers.length;b>a;++a)this.layers[a].reset()},b.hideLayers=function(){if(0===this.preloadCount)for(var a=0,b=this.layers.length;b>a;++a)this.layers[a].hide()},b.showLayers=function(){this.hasLayers&&(this.lht&&(this.lht.reset?this.lht.reset():this.lht.stop("true")),this.resetLayers(),this.$layers.css("opacity",1).css("display",""),0===this.preloadCount&&(this.initLayers(),this.locateLayers(),this.startLayers()))},b.applyParallax=function(a,b,c){for(var d=0,e=this.layers.length;d!==e;++d)null!=this.layers[d].parallax&&this.layers[d].moveParallax(a,b,c)},b.enableParallaxEffect=function(){this.hasParallaxLayer&&("swipe"===this.slider.options.parallaxMode?this.view.addEventListener(MSViewEvents.SCROLL,this.swipeParallaxMove,this):this.$element.on("mousemove",{that:this},this.mouseParallaxMove).on("mouseleave",{that:this},this.resetParalax))},b.disableParallaxEffect=function(){this.hasParallaxLayer&&("swipe"===this.slider.options.parallaxMode?this.view.removeEventListener(MSViewEvents.SCROLL,this.swipeParallaxMove,this):this.$element.off("mousemove",this.mouseParallaxMove).off("mouseleave",this.resetParalax))},b.resetParalax=function(a){var b=a.data.that;b.applyParallax(0,0)},b.mouseParallaxMove=function(a){var b=a.data.that,c=b.$element.offset(),d=b.slider;if("mouse:y-only"!==d.options.parallaxMode)var e=a.clientX-c.left-b.__width/2;else var e=0;if("mouse:x-only"!==d.options.parallaxMode)var f=a.clientY-c.top-b.__height/2;else var f=0;b.applyParallax(-e,-f)},b.swipeParallaxMove=function(){var a=this.position-this.view.__contPos;this.applyParallax(a,0,!0)},b.setBG=function(b){this.hasBG=!0;var c=this;this.$imgcont=a("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=a(b).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(c.fillMode,c.$imgcont,c.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,c.slider.options.autoHeight&&(c.pselected||c.selected)&&c.slider.setHeight(c.slider.options.height),void 0!==this.$bg_img.data("src")?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(a){c._onBGLoad(a)}).each(a.jqLoadFix),this.preloadCount++},b._onBGLoad=function(b){this.bgNatrualWidth=b.width,this.bgNatrualHeight=b.height,this.bgLoaded=!0,a.browser.msie&&this.$bg_img.on("dragstart",function(a){a.preventDefault()}),this.preloadCount--,0===this.preloadCount&&this.___onlayersReady()},b.loadImages=function(){if(!this.ls){if(this.ls=!0,0===this.preloadCount&&this.___onlayersReady(),this.bgvideo&&this.bgvideo.load(),this.hasBG&&this.bg_src){var a=this;this.$bg_img.preloadImg(this.bg_src,function(b){a._onBGLoad(b)})}for(var b=0,c=this.layers.length;c>b;++b)this.layers[b].needPreload&&this.layers[b].loadImage()}},b.setBGVideo=function(b){if(b[0].play){if(window._mobile)return void b.remove();this.bgvideo=b[0];var c=this;b.addClass("ms-slide-bgvideo"),b.data("loop")!==!1&&this.bgvideo.addEventListener("ended",function(){c.bgvideo.play()}),b.data("mute")!==!1&&(this.bgvideo.muted=!0),b.data("autopause")===!0&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=b.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,b),this.bgvideo.addEventListener("loadedmetadata",function(){c.vinit||(c.vinit=!0,c.video_aspect=c.bgVideoAligner.baseHeight/c.bgVideoAligner.baseWidth,c.bgVideoAligner.init(c.bgvideo.videoWidth,c.bgvideo.videoHeight),c._alignBGVideo(),CTween.fadeIn(a(c.bgvideo),200),c.selected&&c.bgvideo.play())})),b.css("opacity",0),this.$bgvideocont=a("<div></div>").addClass("ms-slide-bgvideocont").append(b),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},b._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},b.setSize=function(a,b,c){this.__width=a,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,b=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(b)):(this.ratio=a/this.slider.options.width,b=this.slider.options.height*this.ratio)),this.__height=b,this.$element.width(a).height(b),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),c&&this.selected&&this.initLayers(c),this.selected&&this.locateLayers(),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+"px"),"center"==this.slider.options.layersMode&&(this.$layers[0].style.left=Math.max(0,(this.__width-this.slider.options.width)/2)+"px"))},b.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},b.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},b.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var a=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){a.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){a.vframe.attr("src","about:blank").css("display","none")}}),this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},b.create=function(){var b=this;this.hasLayers&&(this.$element.append(this.$layers),"center"==this.slider.options.layersMode&&this.$layers.css("max-width",this.slider.options.width+"px")),this.link&&this.$element.css("cursor","pointer").click(function(){b.linkdis||window.open(b.link,b.link_targ||"_self")}),this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=a("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").appendTo(this.$element),this.vpbtn=a("<div></div>").addClass("ms-slide-vpbtn").click(function(){b.__playVideo()}).appendTo(this.$element),this.vcbtn=a("<div></div>").addClass("ms-slide-vcbtn").click(function(){b.__closeVideo()}).appendTo(this.$element).css("display","none"),window._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),("center"===this.fillMode||"stretch"===this.fillMode)&&(this.fillMode="fill")),this.slider.options.autoHeight&&this.$element.addClass("ms-slide-auto-height"),this.sleep(!0)},b.destroy=function(){for(var a=0,b=this.layers.length;b>a;++a)this.layers[a].$element.stop(!0).remove();this.$element.remove(),this.$element=null},b.setup=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},b.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.loadImages(),0===this.preloadCount&&(this.bgvideo&&this.bgvideo.play(),this.slider.options.instantStartLayers&&this.showLayers()),this.enableParallaxEffect(),this.moz&&this.$element.css("margin-top",""))},b.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+"px"),this.slider.options.instantStartLayers||this.showLayers()),0===this.preloadCount&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))},b.unselect=function(){if(this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.hasLayers&&(this.selected||this.slider.options.instantStartLayers)){var a=this;a.lht=CTween.animate(this.$layers,500,{opacity:0},{complete:function(){a.resetLayers()}}),this.disableParallaxEffect()}this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))},b.sleep=function(a){(!this.isSleeping||a)&&(this.isSleeping=!0,this.autoAppend&&this.$element.detach())},b.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setup(),this.hasBG&&this.bgAligner.align())}}(jQuery),function(a){"use strict";var b={};window.MSSlideController=function(a){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=a,this.so=a.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(a,c){if(a in b)throw new Error(a+", is already registered.");b[a]=c},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(a,b){if(a in MSSlideController.SliderControlList)throw new Error(a+", is already registered.");MSSlideController.SliderControlList[a]=b};var c=MSSlideController.prototype;c.setupView=function(){var c=this;this.resize_listener=function(){c.__resize()};var d={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&a.extend(d,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);var e=b[this.slider.options.view]||MSBasicView;if(!e._3dreq||window._css3d&&!a.browser.msie||(e=e._fallback||MSBasicView),this.view=new e(d),this.so.overPause){var c=this;this.slider.$element.mouseenter(function(){c.is_over=!0,c._stopTimer()}).mouseleave(function(){c.is_over=!1,c._startTimer()})}},c.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},c.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){var a,b,c=this.so.preload-1;for(b=1;c>=b;++b){if(a=this.view.index+b,a>=this.view.slideList.length){if(!this.so.loop){b=c;continue}a-=this.view.slideList.length}this.view.slideList[a].loadImages()}for(c>this.view.slideList.length/2&&(c=Math.floor(this.view.slideList.length/2)),b=1;c>=b;++b){if(a=this.view.index-b,0>a){if(!this.so.loop){b=c;continue}a=this.view.slideList.length+a}this.view.slideList[a].loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},c.onSwipeStart=function(){this.skipTimer()},c.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},c.onTimer=function(){this._timer.getTime()>=1e3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1e3*this.view.currentSlide.delay-this._timer.getTime()<=300&&(this.view.currentSlide.hideLayers(),this.hideCalled=!0),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},c._stopTimer=function(){this._timer&&this._timer.stop()},c._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},c.__appendSlides=function(){var a,b,c=0,d=this.view.slideList.length-1;for(c;d>c;++c)a=this.view.slideList[c],a.detached||(a.$element.detach(),a.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),d=3,c=1;d>=c;++c){if(b=this.view.index+c,b>=this.view.slideList.length){if(!this.so.loop){c=d;continue}b-=this.view.slideList.length}a=this.view.slideList[b],a.detached=!1,this.view.appendSlide(a)}for(d>this.view.slideList.length/2&&(d=Math.floor(this.view.slideList.length/2)),c=1;d>=c;++c){if(b=this.view.index-c,0>b){if(!this.so.loop){c=d;continue
}b=this.view.slideList.length+b}a=this.view.slideList[b],a.detached=!1,this.view.appendSlide(a)}},c.__resize=function(a){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,a),this.view.setSize(this.width,this.currentSlide.getHeight(),a)):this.view.setSize(this.width,this.so.heightLimit?Math.min(this.height,this.so.height):this.height,a),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},c.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},c.setup=function(){if(this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize(),this.view.create(this.so.start-1),0===this.so.preload&&this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var b=this,c=(new Date).getTime();this.wheellistener=function(a){var d=(new Date).getTime();if(!(350>d-c)){c=d;var e=window.event||a.orginalEvent||a,f=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return 0>f?b.next():f>0&&b.previous(),!1}},a.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize()},c.index=function(){return this.view.index},c.count=function(){return this.view.slidesCount},c.next=function(){this.skipTimer(),this.view.next()},c.previous=function(){this.skipTimer(),this.view.previous()},c.gotoSlide=function(a){a=Math.min(a,this.count()-1),this.skipTimer(),this.view.gotoSlide(a)},c.destroy=function(a){this.slider.destroy(a),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY))},c._destroy=function(){this._timer.reset(),this._timer=null,a(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&(a.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},c.runAction=function(a){var b=[];if(-1!==a.indexOf("(")){var c=a.slice(0,a.indexOf("("));b=a.slice(a.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),a=c}a in this?this[a].apply(this,b):console&&console.log('Master Slider Error: Action "'+a+'" not found.')},c.update=function(a){this.slider.init_safemode&&a&&(this.slider.init_safemode=!1),this.__resize(a)},c.locate=function(){this.__resize()},c.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},c.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},c.currentTime=function(){return this._delayProgress},averta.EventDispatcher.extend(c)}(jQuery),function(a){"use strict";var b={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.MasterSlider=function(){this.options={autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1},this.slides=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0;var b=this;this.resize_listener=function(){b._resize()},a(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="2.0.0",MasterSlider.releaseDate="August 2014";var c=MasterSlider.prototype;c.__setupSlides=function(){var b,c=this,d=0;this.$element.children(".ms-slide").each(function(){var e=a(this);b=new MSSlide,b.$element=e,b.slider=c,b.delay=void 0!==e.data("delay")?e.data("delay"):3,b.fillMode=void 0!==e.data("fill-mode")?e.data("fill-mode"):c.options.fillMode,b.index=d++;var f=e.children("img:not(.ms-layer)");f.length>0&&b.setBG(f[0]);var g=e.children("video");if(g.length>0&&b.setBGVideo(g),c.controls)for(var h=0,i=c.controls.length;i>h;++h)c.controls[h].slideAction(b);e.children("a").each(function(){var c=a(this);"video"===this.getAttribute("data-type")?(b.video=this.getAttribute("href"),b.videoAutoPlay=c.data("autoplay"),c.remove()):c.hasClass("ms-layer")||(b.link=this.getAttribute("href"),b.link_targ=this.getAttribute("target"),c.remove())});c.__createSlideLayers(b,e.find(".ms-layer")),c.slides.push(b),c.slideController.view.addSlide(b)})},c.__createSlideLayers=function(c,d){0!=d.length&&d.each(function(d,e){var f,g=a(this);"A"===e.nodeName&&"image"===g.find(">img").data("type")&&(f=a(this),g=f.find("img"));var h=new(b[g.data("type")||"text"]);h.$element=g,h.link=f;var i={},j={};void 0!==g.data("effect")&&(i.name=g.data("effect")),void 0!==g.data("ease")&&(i.ease=g.data("ease")),void 0!==g.data("duration")&&(i.duration=g.data("duration")),void 0!==g.data("delay")&&(i.delay=g.data("delay")),g.data("hide-effect")&&(j.name=g.data("hide-effect")),g.data("hide-ease")&&(j.ease=g.data("hide-ease")),void 0!==g.data("hide-duration")&&(j.duration=g.data("hide-duration")),void 0!==g.data("hide-time")&&(j.time=g.data("hide-time")),h.setStartAnim(i),h.setEndAnim(j),c.addLayer(h)})},c._removeLoading=function(){a(window).unbind("resize",this.resize_listener),this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},c._resize=function(){if(this.$loading){var a=this.$loading[0].clientWidth/this.aspect;a=this.options.heightLimit?Math.min(a,this.options.height):a,this.$loading.height(a),this.$element.height(a)}},c._shuffleSlides=function(){for(var a,b=this.$element.children(".ms-slide"),c=0,d=b.length;d>c;++c)a=Math.floor(Math.random()*(d-1)),c!=a&&(this.$element[0].insertBefore(b[c],b[a]),b=this.$element.children(".ms-slide"))},c._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var b=this.options.layout;"boxed"!==b&&"partialview"!==b&&(this.options.fullwidth=!0),("fullscreen"===b||"autofill"===b)&&(this.options.fullheight=!0),"partialview"===b&&this.$element.addClass("ms-layout-partialview"),("fullscreen"===b||"fullwidth"===b)&&(a(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),a(window).bind("resize",this.slideController.resize_listener)},c._updateLayout=function(b){var c=b?b.data.that:this,d=c.options.layout,e=c.$element;e.width(a("body").innerWidth()-c.leftSpace-c.rightSpace);var f=-e.offset().left+c.leftSpace+c.lastMargin;e.css("margin-left",f),c.lastMargin=f,"fullscreen"===d&&e.height(window.innerHeight-c.options.fullscreenMargin-c.topSpace-c.bottomSpace)},c._init=function(){if(!this.preventInit){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=a("<div></div>").addClass("ms-inner-controls-cont"),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px"),this.$controlsCont.prepend(this.view.$element),this.$msContainer=a("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont),this.controls)for(var b=0,c=this.controls.length;c>b;++b)this.controls[b].setup();if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this.controls)for(b=0,c=this.controls.length;c>b;++b)this.controls[b].create();if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var d=this.view.$element;d.mousedown(function(){d.removeClass("ms-grab-cursor"),d.addClass("ms-grabbing-cursor")}).addClass("ms-grab-cursor"),a(document).mouseup(function(){d.removeClass("ms-grabbing-cursor"),d.addClass("ms-grab-cursor")})}this.slideController.__dispatchInit()}},c.setHeight=function(a){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:a},{ease:"easeOutQuad"})):this.slideController.view.$element.height(a)},c.reserveSpace=function(a,b){var c=a+"Space",d=this[c];return this[c]+=b,this._updateSideMargins(),d},c._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},c._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},c.control=function(a,b){if(a in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var c=new MSSlideController.SliderControlList[a](b);return c.slider=this,this.controls.push(c),this}},c.setup=function(b,c){if(this.$element="string"==typeof b?a("#"+b):b.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),a.browser.msie&&this.$element.addClass("ms-ie").addClass("ms-ie"+a.browser.version.slice(0,a.browser.version.indexOf(".")));var d=navigator.userAgent.toLowerCase(),e=d.indexOf("android")>-1;e&&this.$element.addClass("ms-android");var f=this;return a.extend(this.options,c),this.aspect=this.options.width/this.options.height,this.$loading=a("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append(a("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController,a(document).ready(function(){f._init()}),this}},c.destroy=function(b){if(this.controls)for(var c=0,d=this.controls.length;c!==d;c++)this.controls[c].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),b?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();var e=this.options.layout;("fullscreen"===e||"fullwidth"===e)&&a(window).unbind("resize",this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null}}(jQuery),function(a,b,c,d){function e(b,c){this.element=b,this.$element=a(b),this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="masterslider",g={controls:{}};a.extend(e.prototype,{init:function(){var a=this;this._slider=new MasterSlider;for(var b in this.settings.controls)this._slider.control(b,this.settings.controls[b]);this._slider.setup(this.$element,this.settings);var c=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(b){a.$element.trigger(b.type),c.call(this,b)}},api:function(){return this._slider.api},slider:function(){return this._slider}}),a.fn[f]=function(b){var c=arguments,g="plugin_"+f;if(b===d||"object"==typeof b)return this.each(function(){a.data(this,g)||a.data(this,g,new e(this,b))});if("string"==typeof b&&"_"!==b[0]&&"init"!==b){var h;return this.each(function(){var d=a.data(this,g);d instanceof e&&"function"==typeof d[b]&&(h=d[b].apply(d,Array.prototype.slice.call(c,1))),d instanceof e&&"function"==typeof d._slider.api[b]&&(h=d._slider.api[b].apply(d._slider.api,Array.prototype.slice.call(c,1))),"destroy"===b&&a.data(this,g,null)}),h!==d?h:this}}}(jQuery,window,document),window.MSViewEvents=function(a){this.type=a},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scoll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function(a){"use strict";window.MSBasicView=function(b){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},a.extend(this.options,b),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=a("<div></div>").addClass("ms-slide-container"),this.$element=a("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var b=MSBasicView.prototype;b.__snapCompelet=function(){this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END))},b.__snapUpdate=function(b,c,d){if(this.loop){var e=this.index+d;this.updateLoop(e),e>=this.slidesCount&&(e-=this.slidesCount),0>e&&(e=this.slidesCount+e),this.index=e}else{if(0>c||c>=this.slidesCount)return;this.index=c}this._checkCritMargins(),a.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));var f=this.slideList[this.index];f!==this.currentSlide&&(this.currentSlide=f,this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},b._checkCritMargins=function(){if(!this.normalMode){var a=Math.floor(this.options.viewNum/2),b=this.viewSlidesList.indexOf(this.slideList[this.index]),c=this[this.__dimension]+this.spacing,d=this.options.critMargin;return this.loop?void((d>=b||b>=this.viewSlidesList.length-d)&&(c*=b-a,this.__locateSlides(!1,c+this.start_buffer),this.start_buffer+=c)):void((d>b&&this.index>=d||b>=this.viewSlidesList.length-d&&this.index<this.slidesCount-d)&&this.__locateSlides(!1))}},b._vertiUpdate=function(a,b){return this.__contPos=b,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-b+"px)"+this.__translate_end):void(this.$slideCont[0].style.top=-b+"px")},b._horizUpdate=function(a,b){return this.__contPos=b,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-b+"px)"+this.__translate_end):void(this.$slideCont[0].style.left=-b+"px")},b.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var a=this.viewSlidesList.slice();this.viewSlidesList=[];var b,c=0,d=Math.floor(this.options.viewNum/2);if(this.loop)for(;c!==this.options.viewNum;c++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-d+c]);else{for(c=0;c!==d&&this.index-c!==-1;c++)this.viewSlidesList.unshift(this.slideList[this.index-c]);for(c=1;c!==d&&this.index+c!==this.slidesCount;c++)this.viewSlidesList.push(this.slideList[this.index+c])}for(c=0,b=a.length;c!==b;c++)-1===this.viewSlidesList.indexOf(a[c])&&a[c].sleep();a=null,this.currentSlide&&this.__updateSlidesZindex()},b.__locateSlides=function(a,b){this.__updateViewList(),b=this.loop?b||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var c,d=this.viewSlidesList.length,e=0;e!==d;e++){var f=b+e*(this[this.__dimension]+this.spacing);c=this.viewSlidesList[e],c.wakeup(),c.position=f,c.$element[0].style[this.__cssProb]=f+"px"}a!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},b.__createLoopList=function(){var a=[],b=0,c=this.slidesCount/2,d=this.slidesCount%2===0?c-1:Math.floor(c),e=this.slidesCount%2===0?c:Math.floor(c);for(this.currentSlideLoc=d,b=1;d>=b;++b)a.unshift(this.slideList[this.index-b<0?this.slidesCount-b+this.index:this.index-b]);for(a.push(this.slideList[this.index]),b=1;e>=b;++b)a.push(this.slideList[this.index+b>=this.slidesCount?this.index+b-this.slidesCount:this.index+b]);return a},b.__getSteps=function(a,b){var c=a>b?this.slidesCount-a+b:b-a,d=Math.abs(this.slidesCount-c);return d>c?c:-d},b.__pushEnd=function(){var a=this.slides.shift(),b=this.slides[this.slidesCount-2];if(this.slides.push(a),this.normalMode){var c=b.$element[0][this.__offset]+this.spacing+this[this.__dimension];a.$element[0].style[this.__cssProb]=c+"px",a.position=c}},b.__pushStart=function(){var a=this.slides.pop(),b=this.slides[0];if(this.slides.unshift(a),this.normalMode){var c=b.$element[0][this.__offset]-this.spacing-this[this.__dimension];a.$element[0].style[this.__cssProb]=c+"px",a.position=c}},b.__updateSlidesZindex=function(){if(this.autoUpdateZIndex){{var a,b=this.viewSlidesList.length;Math.floor(b/2)}if(this.loop)for(var c=this.viewSlidesList.indexOf(this.currentSlide),d=0;d!==b;d++)a=this.viewSlidesList[d],this.viewSlidesList[d].$element.css("z-index",c>=d?d+1:b-d);else{for(var e=this.currentSlide.index-this.viewSlidesList[0].index,d=0;d!==b;d++)this.viewSlidesList[d].$element.css("z-index",e>=d?d+1:b-d);this.currentSlide.$element.css("z-index",b)}}},b.addSlide=function(a){a.view=this,this.slides.push(a),this.slideList.push(a),this.slidesCount++},b.appendSlide=function(a){this.$slideCont.append(a.$element)},b.updateLoop=function(a){if(this.loop)for(var b=this.__getSteps(this.index,a),c=0,d=Math.abs(b);d>c;++c)0>b?this.__pushStart():this.__pushEnd()},b.gotoSlide=function(a,b){this.updateLoop(a),this.index=a;var c=this.slideList[a];this._checkCritMargins(),this.controller.changeTo(c.position,!b,null,null,!1),c!==this.currentSlide&&(this.currentSlide=c,this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),b&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},b.next=function(){this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},b.previous=function(){this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},b.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";var a=this;this.swipeControl.onSwipe="h"===this.dir?function(b){a.horizSwipeMove(b)}:function(b){a.vertSwipeMove(b)}},b.vertSwipeMove=function(a){var b=a.phase;if("start"===b)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START));else if("move"===b&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+a.moveY)<this.cont_size/2))this.controller.drag(a.moveY);else if("end"===b||"cancel"===b){var c=a.distanceY/a.duration*50/3;Math.abs(c)>.1?(this.controller.push(-c),c>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL)))}},b.horizSwipeMove=function(a){var b=a.phase;if("start"===b)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START));else if("move"===b&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+a.moveX)<this.cont_size/2))this.controller.drag(a.moveX);else if("end"===b||"cancel"===b){var c=a.distanceX/a.duration*50/3;Math.abs(c)>.1?(this.controller.push(-c),c>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL)))}},b.setSize=function(a,b,c){if(this.lastWidth!==a||b!==this.lastHeight||c){this.$element.width(a).height(b);for(var d=0;d<this.slidesCount;++d)this.slides[d].setSize(a,b,c);this.__width=a,this.__height=b,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=a,this.lastHeight=b)}},b.create=function(a){this.__created=!0,this.index=Math.min(a||0,this.slidesCount-1),this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum;for(var b=0;b<this.slidesCount;++b)this.slides[b].create();this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},b.destroy=function(){if(this.__created){for(var a=0;a<this.slidesCount;++a)this.slides[a].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(b),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){"use strict";window.MSWaveView=function(a){MSBasicView.call(this,a),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d"),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var a=MSWaveView.prototype,b=MSBasicView.prototype;a._horizUpdate=function(a,c){b._horizUpdate.call(this,a,c);for(var d,e,f=-c,g=0;g<this.slidesCount;++g)d=this.slideList[g],e=-f-d.position,this.__updateSlidesHoriz(d,e)},a._vertiUpdate=function(a,c){b._vertiUpdate.call(this,a,c);for(var d,e,f=-c,g=0;g<this.slidesCount;++g)d=this.slideList[g],e=-f-d.position,this.__updateSlidesVertic(d,e)},a.__updateSlidesHoriz=function(a,b){var c=Math.abs(100*b/this.__width);a.$element.css(window._csspfx+"transform","translateZ("+3*-c+"px) rotateY(0.01deg)")},a.__updateSlidesVertic=function(a,b){this.__updateSlidesHoriz(a,b)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(a){MSWaveView.call(this,a),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);{var a=MSFadeBasicView.prototype;MSFadeBasicView.prototype}a.__updateSlidesHoriz=function(a,b){var c=Math.abs(.6*b/this.__width);c=1-Math.min(c,.6),a.$element.css("opacity",c)},a.__updateSlidesVertic=function(a,b){this.__updateSlidesHoriz(a,b)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(a){MSWaveView.call(this,a),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;{var a=MSFadeWaveView.prototype;MSWaveView.prototype}a.__updateSlidesHoriz=function(a,b){var c=Math.abs(100*b/this.__width);c=Math.min(c,100),a.$element.css("opacity",1-c/300),a.$element.css(window._csspfx+"transform","scale("+(1-c/800)+") rotateY(0.01deg) ")},a.__updateSlidesVertic=function(a,b){this.__updateSlidesHoriz(a,b)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){"use strict";window.MSFlowView=function(a){MSWaveView.call(this,a),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;{var a=MSFlowView.prototype;MSWaveView.prototype}a.__updateSlidesHoriz=function(a,b){var c=Math.abs(100*b/this.__width),d=Math.min(.3*c,30)*(0>b?-1:1),e=1.2*c;a.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-e+"px) rotateY("+d+"deg) "},a.__updateSlidesVertic=function(a,b){var c=Math.abs(100*b/this.__width),d=Math.min(.3*c,30)*(0>b?-1:1),e=1.2*c;a.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-e+"px) rotateX("+-d+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(a){MSWaveView.call(this,a),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;{var a=MSFadeFlowView.prototype;MSWaveView.prototype}a.__calculate=function(a){var b=Math.min(Math.abs(100*a/this.__width),100),c=Math.min(.5*b,50)*(0>a?-1:1);return{value:b,rvalue:c}},a.__updateSlidesHoriz=function(a,b){var c=this.__calculate(b);a.$element.css("opacity",1-c.value/300),a.$element[0].style[window._csspfx+"transform"]="translateZ("+-c.value+"px) rotateY("+c.rvalue+"deg) "},a.__updateSlidesVertic=function(a,b){var c=this.__calculate(b);a.$element.css("opacity",1-c.value/300),a.$element[0].style[window._csspfx+"transform"]="translateZ("+-c.value+"px) rotateX("+-c.rvalue+"deg) "},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function(a){"use strict";window.MSMaskView=function(a){MSBasicView.call(this,a),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var b=MSMaskView.prototype,c=MSBasicView.prototype;b.addSlide=function(b){b.view=this,b.$frame=a("<div></div>").addClass("ms-mask-frame").append(b.$element),b.$element[0].style.position="relative",b.autoAppend=!1,this.slides.push(b),this.slideList.push(b),this.slidesCount++},b.setSize=function(a,b){for(var d=this.slides[0].slider,e=0;e<this.slidesCount;++e)this.slides[e].$frame[0].style.width=a+"px",d.options.autoHeight||(this.slides[e].$frame[0].style.height=b+"px");c.setSize.call(this,a,b)},b._horizUpdate=function(a,b){c._horizUpdate.call(this,a,b);var d=0;if(this.css3)for(d=0;d<this.slidesCount;++d)this.slideList[d].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(b-this.slideList[d].position)+"px)"+this.__translate_end;else for(d=0;d<this.slidesCount;++d)this.slideList[d].$element[0].style.left=b-this.slideList[d].position+"px"},b._vertiUpdate=function(a,b){c._vertiUpdate.call(this,a,b);var d=0;if(this.css3)for(d=0;d<this.slidesCount;++d)this.slideList[d].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(b-this.slideList[d].position)+"px)"+this.__translate_end;else for(d=0;d<this.slidesCount;++d)this.slideList[d].$element[0].style.top=b-this.slideList[d].position+"px"},b.__pushEnd=function(){var a=this.slides.shift(),b=this.slides[this.slidesCount-2];if(this.slides.push(a),this.normalMode){var c=b.$frame[0][this.__offset]+this.spacing+this[this.__dimension];a.$frame[0].style[this.__cssProb]=c+"px",a.position=c}},b.__pushStart=function(){var a=this.slides.pop(),b=this.slides[0];if(this.slides.unshift(a),this.normalMode){var c=b.$frame[0][this.__offset]-this.spacing-this[this.__dimension];a.$frame[0].style[this.__cssProb]=c+"px",a.position=c}},b.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var a=this.viewSlidesList.slice();this.viewSlidesList=[];var b,c=0,d=Math.floor(this.options.viewNum/2);if(this.loop)for(;c!==this.options.viewNum;c++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-d+c]);else{for(c=0;c!==d&&this.index-c!==-1;c++)this.viewSlidesList.unshift(this.slideList[this.index-c]);for(c=1;c!==d&&this.index+c!==this.slidesCount;c++)this.viewSlidesList.push(this.slideList[this.index+c])}for(c=0,b=a.length;c!==b;c++)-1===this.viewSlidesList.indexOf(a[c])&&(a[c].sleep(),a[c].$frame.detach());a=null},b.__locateSlides=function(a,b){this.__updateViewList(),b=this.loop?b||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var c,d=this.viewSlidesList.length,e=0;e!==d;e++){var f=b+e*(this[this.__dimension]+this.spacing);c=this.viewSlidesList[e],this.$slideCont.append(c.$frame),c.wakeup(!1),c.position=f,c.$frame[0].style[this.__cssProb]=f+"px"}a!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){"use strict";window.MSFadeView=function(a){MSBasicView.call(this,a),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var a=MSFadeView.prototype,b=MSBasicView.prototype;a.__update=function(a,b){for(var c,d,e=-b,f=0;f<this.slidesCount;++f)c=this.slideList[f],d=-e-c.position,this.__updateSlides(c,d)},a.__updateSlides=function(a,b){var c=Math.abs(b/this[this.__dimension]);0>=1-c?a.$element.fadeTo(0,0).css("visibility","hidden"):a.$element.fadeTo(0,1-c).css("visibility","")},a.__locateSlides=function(a,b){this.__updateViewList(),b=this.loop?b||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var c,d=this.viewSlidesList.length,e=0;e!==d;e++){var f=b+e*this[this.__dimension];c=this.viewSlidesList[e],c.wakeup(),c.position=f}a!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},a.__pushEnd=function(){var a=this.slides.shift(),b=this.slides[this.slidesCount-2];this.slides.push(a),a.position=b.position+this[this.__dimension]},a.__pushStart=function(){var a=this.slides.pop(),b=this.slides[0];this.slides.unshift(a),a.position=b.position-this[this.__dimension]},a.create=function(a){b.create.call(this,a),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){"use strict";window.MSScaleView=function(a){MSBasicView.call(this,a),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var a=MSScaleView.prototype,b=MSFadeView.prototype;a.__updateSlides=function(a,b){var c=Math.abs(b/this[this.__dimension]),d=a.$element[0];0>=1-c?(d.style.opacity=0,d.style.visibility="hidden",d.style[window._jcsspfx+"Transform"]=""):(d.style.opacity=1-c,d.style.visibility="",d.style[window._jcsspfx+"Transform"]="perspective(2000px) translateZ("+c*(0>b?-.5:.5)*300+"px)")},a.create=function(a){b.create.call(this,a),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){"use strict";var a=2e3;window.MSFocusView=function(a){MSWaveView.call(this,a),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;{var b=MSFocusView.prototype;MSWaveView.prototype}b.__calcview=function(b,c){var d=c/2*b/(b+a);return d*(b+a)/a},b.__updateSlidesHoriz=function(a,b){var c=Math.abs(100*b/this.__width);c=15*-Math.min(c,100),a.$element.css(window._csspfx+"transform","translateZ("+c+"px) rotateY(0.01deg) translateX("+(0>b?1:-1)*-this.__calcview(c,this.__width)*this.options.centerSpace+"px)")},b.__updateSlidesVertic=function(a,b){var c=Math.abs(100*b/this.__width);c=15*-Math.min(c,100),a.$element.css(window._csspfx+"transform","translateZ("+c+"px) rotateY(0.01deg) translateY("+(0>b?1:-1)*-this.__calcview(c,this.__width)*this.options.centerSpace+"px)")},MSSlideController.registerView("focus",MSFocusView)
}(),function(){window.MSPartialWaveView=function(a){MSWaveView.call(this,a),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;{var a=MSPartialWaveView.prototype;MSWaveView.prototype}a.__updateSlidesHoriz=function(a,b){var c=Math.abs(100*b/this.__width);a.hasBG&&a.$bg_img.css("opacity",(100-Math.abs(120*b/this.__width/3))/100),a.$element.css(window._csspfx+"transform","translateZ("+3*-c+"px) rotateY(0.01deg) translateX("+.75*b+"px)")},a.__updateSlidesVertic=function(a,b){var c=Math.abs(100*b/this.__width);a.hasBG&&a.$bg_img.css("opacity",(100-Math.abs(120*b/this.__width/3))/100),a.$element.css(window._csspfx+"transform","translateZ("+3*-c+"px) rotateY(0.01deg) translateY("+.75*b+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function(a){"use strict";var b=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0}},c=b.prototype;c.slideAction=function(){},c.setup=function(){this.cont=this.options.insertTo?a(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts(),this.options.hideUnder&&(a(window).bind("resize",{that:this},this.onResize),this.onResize(),this.needsRealign=!this.options.insetTo&&("left"===this.options.align||"right"===this.options.align)&&this.options.inset===!1)},c.onResize=function(a){var b=a&&a.data.that||this,c=window.innerWidth;c<=b.options.hideUnder&&!b.detached?(b.hide(!0),b.detached=!0,b.onDetach()):c>=b.options.hideUnder&&b.detached&&(b.detached=!1,b.visible(),b.onAppend())},c.create=function(){var b=this;this.options.autohide&&!window._touch&&(this.hide(!0),this.slider.$controlsCont.mouseenter(function(){b._disableAH||b.mdown||b.visible(),b.mleave=!1}).mouseleave(function(){b.mleave=!0,b.mdown||b.hide()}).mousedown(function(){b.mdown=!0}),a(document).mouseup(function(){b.mdown&&b.mleave&&b.hide(),b.mdown=!1}))},c.onAppend=function(){this.needsRealign&&this.slider._realignControls()},c.onDetach=function(){this.needsRealign&&this.slider._realignControls()},c._hideOnvideoStarts=function(){var a=this;slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){a._disableAH=!0,a.hide()}),slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){a._disableAH=!1,a.visible()})},c.hide=function(a){a?(this.$element.css("opacity",0),this.$element.css("display","none")):CTween.fadeOut(this.$element,400,!1),this.$element.addClass("ms-ctrl-hide")},c.visible=function(){this.detached||(this.$element.css("display",""),CTween.fadeIn(this.$element,400),this.$element.removeClass("ms-ctrl-hide"))},c.destroy=function(){this.options&&this.options.hideUnder&&a(window).unbind("resize",this.onResize)},window.BaseControl=b}(jQuery),function(a){"use strict";var b=function(b){BaseControl.call(this),a.extend(this.options,b)};b.extend(BaseControl);var c=b.prototype,d=BaseControl.prototype;c.setup=function(){var b=this;this.$next=a("<div></div>").addClass(this.options.prefix+"nav-next").bind("click",function(){b.slider.options.loop||b.slider.api.index()!==b.slider.api.count()-1?b.slider.api.next():b.slider.view.controller.bounce(10)}),this.$prev=a("<div></div>").addClass(this.options.prefix+"nav-prev").bind("click",function(){b.slider.options.loop||0!==b.slider.api.index()?b.slider.api.previous():b.slider.view.controller.bounce(-10)}),d.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev)},c.hide=function(a){return a?(this.$prev.css("opacity",0).css("display","none"),void this.$next.css("opacity",0).css("display","none")):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),void this.$next.addClass("ms-ctrl-hide"))},c.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))},c.destroy=function(){d.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=b,MSSlideController.registerControl("arrows",b)}(jQuery),function(a){"use strict";var b=function(b){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===b.dir,this.options.arrows=!0,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",a.extend(this.options,b),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};b.extend(BaseControl);var c=b.prototype,d=BaseControl.prototype;c.setup=function(){if(this.$element=a("<div></div>").addClass(this.options.prefix+"thumb-list"),"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),d.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$thumbscont=a("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){var b=this;this.$fwd=a("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){b.controller.push(-15)}),this.$bwd=a("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){b.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var c=this.options.align;this.options.inset?this.$element.css(c,this.options.margin):"top"===c?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===c?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}},c.align=function(){if(!this.detached){var a=this.options.align,b=this.slider.reserveSpace(a,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(a,-b-this.options[this.__alignsize]-this.options.margin)}},c.slideAction=function(b){var c=a(b.$element.find(".ms-thumb")),d=this,e=a("<div></div>").addClass("ms-thumb-frame").append(c).append(a('<div class="ms-thumb-ol"></div>')).bind("click",function(){d.changeSlide(e)});if(this.options.align&&e.width(this.options.width).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space),e[0].index=this.index_count++,this.$thumbscont.append(e),this.options.fillMode&&c.is("img")){var f=new window.MSAligner(this.options.fillMode,e,c);c[0].aligner=f,c.one("load",function(){var b=a(this);b[0].aligner.init(b.width(),b.height()),b[0].aligner.align()}).each(a.jqLoadFix)}a.browser.msie&&c.on("dragstart",function(a){a.preventDefault()}),this.thumbs.push(e)},c.create=function(){d.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var b=this;this.resize_listener=function(){b.__resize()},a(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();var b=this;this.options.wheel&&(this.wheellistener=function(a){var c=window.event||a.orginalEvent||a,d=Math.max(-1,Math.min(1,c.wheelDelta||-c.detail));return b.controller.push(10*-d),!1},a.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},c._hMove=function(a,b){return this.__contPos=b,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+-b+"px)"+this.__translate_end):void(this.$thumbscont[0].style.left=-b+"px")},c._vMove=function(a,b){return this.__contPos=b,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-b+"px)"+this.__translate_end):void(this.$thumbscont[0].style.top=-b+"px")},c.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var a=this;this.swipeControl.onSwipe="h"===this.options.dir?function(b){a.horizSwipeMove(b)}:function(b){a.vertSwipeMove(b)}},c.vertSwipeMove=function(a){if(!this.dTouch){var b=a.phase;if("start"===b)this.controller.stop();else if("move"===b)this.controller.drag(a.moveY);else if("end"===b||"cancel"===b){var c=Math.abs(a.distanceY/a.duration*50/3);c>.1?this.controller.push(-a.distanceY/a.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},c.horizSwipeMove=function(a){if(!this.dTouch){var b=a.phase;if("start"===b)this.controller.stop(),this.click_enable=!1;else if("move"===b)this.controller.drag(a.moveX);else if("end"===b||"cancel"===b){var c=Math.abs(a.distanceX/a.duration*50/3);c>.1?this.controller.push(-a.distanceX/a.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},c.update=function(){var a=this.slider.api.index();this.cindex!==a&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=a,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},c.updateThumbscroll=function(){var a=this.thumbSize*this.cindex;if(0/0==this.controller.value&&(this.controller.value=0),a-this.controller.value<0)return void this.controller.gotoSnap(this.cindex,!0);if(a+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){var b=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;return void this.controller.gotoSnap(b,!0)}},c.changeSlide=function(a){this.click_enable&&this.cindex!==a[0].index&&this.slider.api.gotoSlide(a[0].index)},c.unselect=function(a){a.removeClass("ms-thumb-frame-selected")},c.select=function(a){a.addClass("ms-thumb-frame-selected")},c.__resize=function(){var a=this.$element[this.__dimen]();if(this.ls!==a){this.ls=a,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var b=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=b+"px",a>=b?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(a-b)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=b-a,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},c.destroy=function(){d.destroy(),this.options.wheel&&(a.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),a(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=b,MSSlideController.registerControl("thumblist",b)}(jQuery),function(a){"use strict";var b=function(b){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,a.extend(this.options,b),this.bullets=[]};b.extend(BaseControl);var c=b.prototype,d=BaseControl.prototype;c.setup=function(){if(d.setup.call(this),this.$element=a("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=a("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var b=this.options.align;this.options.inset&&this.$element.css(b,this.options.margin)}},c.create=function(){d.create.call(this);var b=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var c=0;c<this.slider.api.count();++c){var e=a("<div></div>").addClass("ms-bullet");e[0].index=c,e.on("click",function(){b.changeSlide(this.index)}),this.$bullet_cont.append(e),this.bullets.push(e)}"h"===this.options.dir&&this.$element.width(e.outerWidth(!0)*this.slider.api.count()),this.select(this.bullets[this.cindex])},c.update=function(){var a=this.slider.api.index();this.cindex!==a&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=a,this.select(this.bullets[this.cindex]))},c.changeSlide=function(a){this.cindex!==a&&this.slider.api.gotoSlide(a)},c.unselect=function(a){a.removeClass("ms-bullet-selected")},c.select=function(a){a.addClass("ms-bullet-selected")},c.destroy=function(){d.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=b,MSSlideController.registerControl("bullets",b)}(jQuery),function(a){"use strict";var b=function(b){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,a.extend(this.options,b),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};b.extend(BaseControl);var c=b.prototype,d=BaseControl.prototype;c.setup=function(){if(this.$element=a("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),d.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=a("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(console.log("WARNING, MSScrollbar cannot work with looped slider."),this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css("v"===this.options.dir?{right:"auto",left:"auto"}:{top:"auto",bottom:"auto"});var b=this.options.align;this.options.inset?this.$element.css(b,this.options.margin):"top"===b?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===b?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}},c.align=function(){if(!this.detached){var a=this.options.align,b=this.slider.reserveSpace(a,2*this.options.margin+this.options.width);this.$element.css(a,-b-this.options.margin-this.options.width)}},c.create=function(){if(!this.disable){this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0")}},c._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},c._update=function(){var a=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==a){if(this.lvalue=a,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");var b=this;this.hto=setTimeout(function(){b.$bar.css("opacity","0")},150)}return 0>a?void(this.$bar[0].style[this.__dimen]=this.bar_dimen+a+"px"):(a>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-a+"px"),window._cssanim?void(this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+a+"px)"+this.__translate_end):void(this.$bar[0].style[this.__pos]=a+"px"))}},c.destroy=function(){d.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=b,MSSlideController.registerControl("scrollbar",b)}(jQuery),function(a){"use strict";var b=function(b){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,this.options.margin=0,a.extend(this.options,b)};b.extend(BaseControl);var c=b.prototype,d=BaseControl.prototype;c.setup=function(){if(d.setup.call(this),this.$element=a("<div></div>").addClass(this.options.prefix+"timerbar"),d.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=a("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var b=this.options.align;this.options.inset?this.$element.css(b,this.options.margin):"top"===b?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===b?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}},c.align=function(){if(!this.detached){var a=this.options.align,b=this.slider.reserveSpace(a,2*this.options.margin+this.options.width);this.$element.css(a,-b-this.options.margin-this.options.width)}},c.create=function(){d.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},c._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},c.destroy=function(){d.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=b,MSSlideController.registerControl("timebar",b)}(jQuery),function(a){"use strict";var b=function(b){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,a.extend(this.options,b)};b.extend(BaseControl);var c=b.prototype,d=BaseControl.prototype;c.setup=function(){return d.setup.call(this),this.$element=a("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=a("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=a("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,void(this.$canvas[0].height=this.__w)):(this.destroy(),void(this.disable=!0))},c.create=function(){if(!this.disable){d.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var a=this;this.$element.click(function(){a.slider.api.paused?a.slider.api.resume():a.slider.api.pause()}),this._update()}},c._update=function(){var b=this;a(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){b._draw()}})},c._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},c.destroy=function(){d.destroy(),this.disable||(a(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=b,MSSlideController.registerControl("circletimer",b)}(jQuery),function(a){"use strict";window.MSLightbox=function(b){BaseControl.call(this,b),this.options.autohide=!1,a.extend(this.options,b),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var b=MSLightbox.prototype,c=BaseControl.prototype;b.setup=function(){c.setup.call(this),this.$element=a("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont)},b.slideAction=function(b){a("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(b.$element).append(a(b.$element.find(".ms-lightbox")))},b.create=function(){c.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function(a){"use strict";window.MSSlideInfo=function(b){BaseControl.call(this,b),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",a.extend(this.options,b),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var b=MSSlideInfo.prototype,c=BaseControl.prototype;b.setup=function(){if(this.$element=a("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),c.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),!this.options.insetTo&&this.options.align){var b=this.options.align;this.options.inset?this.$element.css(b,this.options.margin):"top"===b?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===b?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}},b.align=function(){if(!this.detached){var a=this.options.align,b=this.slider.reserveSpace(a,this.options.size+2*this.options.margin);this.$element.css(a,-b-this.options.size-this.options.margin)}},b.slideAction=function(b){var c=a(b.$element.find(".ms-info"));c.detach(),this.data_list[b.index]=c},b.create=function(){c.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},b.update=function(){var a=this.slider.api.index();this.switchEle(this.data_list[a]),this.cindex=a},b.switchEle=function(a){if(this.current_ele){this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null,a.css("position","relative")},target:this.current_ele}),a.css("position","absolute")}this.__show(a)},b.__show=function(a){a.appendTo(this.$element).css("opacity","0"),this.current_ele&&a.height(Math.max(a.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(function(){CTween.fadeIn(a,MSSlideInfo.fadeDuratation),a.css("height","")},MSSlideInfo.fadeDuratation),a[0].tween&&a[0].tween.stop(!0),this.current_ele=a},b.destroy=function(){c.destroy(),clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function(a){window.MSGallery=function(b,c){this.id=b,this.slider=c,this.telement=a("#"+b),this.botcont=a("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=a("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=a("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=a("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),c.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),c.control("slidenum",{insertTo:this.botcont,autohide:!1}),c.control("slideinfo",{insertTo:this.botcont,autohide:!1}),c.control("timebar",{insertTo:this.botcont,autohide:!1}),c.control("bullets",{insertTo:this.botcont,autohide:!1})};var b=MSGallery.prototype;b._init=function(){var a=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){a.slider.api.paused?(a.slider.api.resume(),a.playbtn.addClass("btn-pause")):(a.slider.api.pause(),a.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){a.vthumbs?(a.thumbtoggle.removeClass("btn-hide"),a.vthumbs=!1,a.thumbcont.addClass("hide-thumbs")):(a.thumbtoggle.addClass("btn-hide"),a.thumbcont.removeClass("hide-thumbs"),a.vthumbs=!0)})},b.setup=function(){var b=this;a(document).ready(function(){b._init()})}}(jQuery),function(a){var b=function(a,b,c){return"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+a+"&photoset_id="+b+"&per_page="+c+"&extras=description,date_taken,owner_name,views&format=json&jsoncallback=?"},c=function(a,b,c){return"https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key="+a+"&user_id="+b+"&per_page="+c+"&extras=description,date_taken,owner_name,views&format=json&jsoncallback=?"},d=function(a,b,c,d,e){return"https://farm"+a+".staticflickr.com/"+b+"/"+c+"_"+d+e+".jpg"};window.MSFlickrV2=function(d,e){var f={count:10,type:"photoset",thumbSize:"q",imgSize:"c"};if(this.slider=d,this.slider.preventInit=!0,!e.key)return void this.errMsg("Flickr API Key required. Please add it in settings.");a.extend(f,e),this.options=f;var g=this;"photoset"===this.options.type?a.getJSON(b(this.options.key,this.options.id,this.options.count),function(a){g._photosData(a)}):a.getJSON(c(this.options.key,this.options.id,this.options.count),function(a){g.options.type="photos",g._photosData(a)}),""!==this.options.imgSize&&"-"!==this.options.imgSize&&(this.options.imgSize="_"+this.options.imgSize),this.options.thumbSize="_"+this.options.thumbSize,this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var e=MSFlickrV2.prototype;e._photosData=function(b){if("fail"===b.stat)return void this.errMsg("Flickr API ERROR#"+b.code+": "+b.message);{var c=this;this.options.author||this.options.desc}a.each(b[this.options.type].photo,function(b,d){var e=c.slideTemplate.replace(/{{[\w-]+}}/g,function(a){return a=a.replace(/{{|}}/g,""),f[a]?f[a](d,c):"["+a+"]"});a(e).appendTo(c.slider.$element)}),c._initSlider()},e.errMsg=function(b){this.slider.$element.css("display","block"),this.errEle||(this.errEle=a('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(b)},e._initSlider=function(){this.slider.preventInit=!1,this.slider._init()};var f={image:function(a,b){return d(a.farm,a.server,a.id,a.secret,b.options.imgSize)},thumb:function(a,b){return d(a.farm,a.server,a.id,a.secret,b.options.thumbSize)},title:function(a){return a.title},"owner-name":function(a){return a.ownername},"date-taken":function(a){return a.datetaken},views:function(a){return a.views},description:function(a){return a.description._content}}}(jQuery),function(a){window.MSFacebookGallery=function(b,c){var d={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1};this.slider=b,this.slider.preventInit=!0,a.extend(d,c),this.options=d,this.graph=this.options.https?"https://graph.facebook.com":"http://graph.facebook.com";var e=this;"photostream"===this.options.type?a.getJSON(this.graph+"/"+this.options.username+"/photos/uploaded/?fields=source,name,link,images,from&limit="+this.options.count,function(a){e._photosData(a)}):a.getJSON(this.graph+"/"+this.options.albumId+"/photos?fields=source,name,link,images,from&limit="+this.options.count,function(a){e._photosData(a)}),this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var b=MSFacebookGallery.prototype;b._photosData=function(b){if(b.error)return void this.errMsg("Facebook API ERROR#"+b.error.code+"("+b.error.type+"): "+b.error.message);for(var c=this,e=(this.options.author||this.options.desc,0),f=b.data.length;e!==f;e++){var g=c.slideTemplate.replace(/{{[\w-]+}}/g,function(a){return a=a.replace(/{{|}}/g,""),d[a]?d[a](b.data[e],c):"{{"+a+"}}"});a(g).appendTo(c.slider.$element)}c._initSlider()},b.errMsg=function(b){this.slider.$element.css("display","block"),this.errEle||(this.errEle=a('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(b)},b._initSlider=function(){this.slider.preventInit=!1,this.slider._init()};var c=function(a,b){if("orginal"===b)return a[0].source;for(var c=0,d=a.length;c!==d;c++)if(-1!==a[c].source.indexOf(b+"x"+b))return a[c].source;return a[d-3].source},d={image:function(a,b){return c(a.images,b.options.imgSize)},thumb:function(a,b){return c(a.images,b.options.thumbSize)},name:function(a){return a.name},"owner-name":function(a){return a.from.name},link:function(a){return a.link}}}(jQuery),function(a){"use strict";window.MSScrollParallax=function(a,b,c,d){this.fade=d,this.slider=a,this.parallax=b/100,this.bgparallax=c/100,a.api.addEventListener(MSSliderEvent.INIT,this.init,this),a.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),a.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),a.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=function(a,b,c,d){return window._mobile?void 0:(null==prallax&&(prallax=50),null==c&&(c=40),new MSScrollParallax(a,b,c,d))};var b=window.MSScrollParallax.prototype;b.init=function(){this.slider.$element.addClass("ms-scroll-parallax"),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide();for(var b,c=this.slider.api.view.slideList,d=0,e=c.length;d!==e;d++)b=c[d],b.$layers&&(b.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),b.$scrollParallaxCont=b.$layers.parent());a(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")},b.resetLayers=function(){if(this.lastSlide){var a=this.lastSlide.$scrollParallaxCont;window._css2d?(a&&(a[0].style[window._jcsspfx+"Transform"]=""),this.lastSlide.$imgcont[0].style[window._jcsspfx+"Transform"]=""):(a&&(a[0].style.top=""),this.lastSlide.$imgcont[0].style.top="0px")}},b.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},b.moveParallax=function(b){var c=b.data.that,d=c.slider,e=c.sliderOffset,f=a(window).scrollTop(),g=c.currentSlide.$scrollParallaxCont,h=(c.currentSlide.$imgcont,e-f);0>=h?(g&&(window._css3d?g[0].style[window._jcsspfx+"Transform"]="translateY("+-h*c.parallax+"px) translateZ(0)":window._css2d?g[0].style[window._jcsspfx+"Transform"]="translateY("+-h*c.parallax+"px)":g[0].style.top=-h*c.parallax+"px"),c.updateSlidesBG(-h*c.bgparallax+"px",!0),g&&c.fade&&g.css("opacity",1-Math.min(1,-h/d.api.height))):(g&&(window._css2d?g[0].style[window._jcsspfx+"Transform"]="":g[0].style.top=""),c.updateSlidesBG("0px",!1),g&&c.fade&&g.css("opacity",1))},b.updateSlidesBG=function(b,c){for(var d=this.slider.api.view.slideList,e=!c||a.browser.msie||a.browser.opera?"":"fixed",f=0,g=d.length;f!==g;f++)d[f].$imgcont[0].style.position=e,d[f].$imgcont[0].style.top=b},b.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),a(window).off("scroll",this.moveParallax)
}}(jQuery),function(a){var b={common:{init:function(){}},home:{init:function(){}},about_us:{init:function(){}}},c={fire:function(a,c,d){var e=b;c=void 0===c?"init":c,""!==a&&e[a]&&"function"==typeof e[a][c]&&e[a][c](d)},loadEvents:function(){c.fire("common"),a.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(a,b){c.fire(b)})}};a(document).ready(c.loadEvents)}(jQuery),jQuery(document).ready(function(a){a(".subnav-toggle").click(function(){a(this).toggleClass("active"),a(".sec__header").toggleClass("is_show"),a("body").toggleClass("subnav_isactive")}),a(".popup--video, .popup--youtube, .popup--vimeo, .popup--gmaps").magnificPopup({disableOn:320,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),a(".popup--gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(a){return a.el.attr("title")+"<small>&copy; Niels Torp as Arkitekter</small>"}}});var b=a(".js-isotopegrid");b.isotope({itemSelector:".js-isotopeitem",layoutMode:"fitRows",animationOptions:{duration:750,easing:"linear",queue:!1}}),b.imagesLoaded(function(){b.isotope("layout"),a(".js-isotopegrid").addClass("is-loaded")}),a(".js-isotopefilter__item a").click(function(c){c.preventDefault(),a("body").removeClass("subnav_isactive"),a(".sec__header").removeClass("is_show"),a(".js-isotopefilter__item").removeClass("active"),a(this).parent().addClass("active");var d=a(this).attr("data-filter-value");b.isotope({filter:d})}),a("#project__theslider").masterslider({width:1920,height:1024,space:0,preload:3,autoplay:!0,fullwidth:!0,autoHeight:!0,view:"fade",layout:"boxed",controls:{arrows:{autohide:!0},thumblist:{autohide:!1,inset:!1,width:160,height:90,space:20}}}),a("#team__theslider").masterslider({width:1920,height:1024,space:0,preload:3,autoplay:!0,fullwidth:!0,autoHeight:!0,view:"fade",layout:"boxed",controls:{arrows:{autohide:!0}}}),a("#home__theslider").masterslider({width:1920,height:1024,space:0,preload:3,autoplay:!0,fullwidth:!0,autoHeight:!0,view:"fade",layout:"fullscreen",controls:{bullets:{autohide:!0}}}),a(".fulltoggle").click(function(b){b.preventDefault(),a(".project--single").toggleClass("fullgallery--shown"),a("#project__theslider").masterslider("setup"),a(".page-template-template-aboutus").toggleClass("fullgallery--shown"),a("#team__theslider").masterslider("setup")}),a(".gallery__theslider").masterslider({width:1920,height:1024,space:0,preload:3,autoplay:!0,fullwidth:!0,autoHeight:!0,view:"fade",layout:"boxed",controls:{arrows:{autohide:!0},thumblist:{autohide:!1,inset:!1,width:160,height:90,space:20}}})});